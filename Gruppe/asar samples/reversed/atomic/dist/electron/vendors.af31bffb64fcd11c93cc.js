(window.webpackJsonp=window.webpackJsonp||[]).push([[198],{1381:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AdaAtomicExplorer",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(t,"AlgoExplorer",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"AlgoNodeExplorer",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"AptExplorer",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(t,"ArkExplorer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"AtomicExplorer",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"BinanceBCExplorer",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(t,"BinanceDex",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BinanceExplorer",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"BlockbookExplorer",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(t,"BlockbookV2Explorer",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(t,"BlockbookV2WithBlockscannerExplorer",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(t,"BlockcypherExplorer",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(t,"BlockscoutExplorer",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(t,"BtgInsightExplorer",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(t,"CardanoRestExplorer",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(t,"CardanoliteExplorer",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(t,"CosmosNodeExplorer",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(t,"CosmosNodeExplorerV2",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(t,"CosmosNodeWithBlockscannerExplorer",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(t,"CovalentHQExplorer",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(t,"DcrDataExplorer",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"DgbInsightExplorer",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(t,"DogeChainExplorer",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"DoraExplorer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"EOSApiExplorer",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"EOSNodeExplorer",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"ETHNftExplorer",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(t,"ETHNftMoralisExplorer",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(t,"ElrondApiExplorer",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(t,"EtherscanExplorer",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(t,"EthplorerExplorer",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(t,"FtmExplorer",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(t,"GastrackerExplorer",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(t,"GuardaMoneroProxy",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(t,"HashnodeExplorer",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"HederaMirrorNodeExplorer",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(t,"HederaStakingExplorer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"IconExplorer",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"IconNodeExplorer",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(t,"InsightExplorer",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"KabutoExplorer",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"KabutoExplorerV2",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"MintscanExplorer",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"MoralisExplorer",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(t,"MyMoneroExplorer",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(t,"NanocrawlerExplorer",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(t,"NanonodeExplorer",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"NearHelperExplorer",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(t,"NearRPCExplorer",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(t,"NearblocksExplorer",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(t,"NemNodeExplorer",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"NeoNodeExplorer",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"NeoscanExplorer",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"OntExplorer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"PolkaScanExplorer",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(t,"PolkadotNodeExplorer",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(t,"PolkadotSidecarExplorer",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(t,"PolyscanExplorer",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"PurestakeExplorer",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(t,"QtumInfoExplorer",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(t,"RippleExplorer",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"SnowTraceExplorer",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(t,"SolanaNodeExplorer",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(t,"SolanaSurfExplorer",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(t,"SolanaTritonExplorer",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(t,"StackFundExplorer",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(t,"TerraClassicFCDExplorer",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(t,"TerraClassicLCDExplorer",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(t,"TerraFCDExplorer",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(t,"TerraLCDExplorer",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(t,"TerraMantleExplorer",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(t,"TezosExplorer",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"TezosNodeExplorer",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(t,"TezosNodeWithBlockscannerExplorer",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(t,"ThetaExplorer",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(t,"ThetaJSExplorer",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(t,"TonwebExplorer",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(t,"TronNodeExplorer",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(t,"TronNodeWithBlockscannerExplorer",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(t,"TrongridExplorer",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"TronscanExplorer",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"TzindexExplorer",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"TzktExplorer",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"TzktIoV1Explorer",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"VergeInsightExplorer",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(t,"VergeNodeExplorer",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(t,"VetNodeExplorer",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"VetNodeWithBlockscannerExplorer",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(t,"ViewblockExplorer",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(t,"WavesNodeExplorer",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(t,"Web3Explorer",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"XlmExplorer",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"YoroExplorer",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"ZilliqaAtomicExplorer",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(t,"ZilliqaNodeExplorer",{enumerable:!0,get:function(){return we.default}});var a=n(r(2517)),s=n(r(2542)),i=n(r(2543)),o=n(r(2575)),c=n(r(2737)),l=n(r(2901)),u=n(r(2902)),d=n(r(2903)),h=n(r(2904)),g=n(r(2905)),f=n(r(2906)),p=n(r(2907)),m=n(r(2908)),T=n(r(2909)),x=n(r(2910)),w=n(r(2911)),y=n(r(2912)),b=n(r(2913)),v=n(r(2914)),E=n(r(2915)),k=n(r(2951)),A=n(r(2952)),P=n(r(2957)),S=n(r(3137)),O=n(r(3138)),C=n(r(3139)),_=n(r(3140)),N=n(r(1726)),R=n(r(3240)),U=n(r(3241)),D=n(r(3242)),I=n(r(3310)),B=n(r(3311)),M=n(r(3312)),L=n(r(3313)),j=n(r(3405)),F=n(r(1834)),q=n(r(3432)),V=n(r(3433)),H=n(r(3434)),$=n(r(3435)),G=n(r(3436)),W=n(r(3437)),z=n(r(1835)),Y=n(r(3607)),K=n(r(3610)),X=n(r(3611)),J=n(r(3612)),Z=n(r(3613)),Q=n(r(1857)),ee=n(r(3614)),te=n(r(3615)),re=n(r(3616)),ne=n(r(3617)),ae=n(r(3618)),se=n(r(3619)),ie=n(r(3620)),oe=n(r(1859)),ce=n(r(3624)),le=n(r(1858)),ue=n(r(3625)),de=n(r(3626)),he=n(r(3644)),ge=n(r(3645)),fe=n(r(1866)),pe=n(r(3646)),me=n(r(3647)),Te=n(r(3648)),xe=n(r(3649)),we=n(r(3650)),ye=n(r(3670)),be=n(r(3671)),ve=n(r(3672)),Ee=n(r(3673)),ke=n(r(3674)),Ae=n(r(3675)),Pe=n(r(3676)),Se=n(r(3677)),Oe=n(r(3678)),Ce=n(r(3679)),_e=n(r(3680)),Ne=n(r(3715)),Re=n(r(3716)),Ue=n(r(3717)),De=n(r(3917)),Ie=n(r(3918)),Be=n(r(3919)),Me=n(r(3920)),Le=n(r(3921)),je=n(r(3922)),Fe=n(r(3923)),qe=n(r(3951)),Ve=n(r(3952)),He=n(r(3982)),$e=n(r(3983))},1655:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20));class TzktAbstractExplorer extends a.default{getAllowedTickers(){return["XTZ"]}modifyTransactionsResponse(e,t){return super.modifyTransactionsResponse(e,t)}getTxConfirmations(e){return"applied"===e.status?1:0}getTxHash(e){return e.hash}getTxDirection(e,t){return t.sender.address!==e}getTxOtherSideAddress(e,t){return this.getTxDirection(e,t)?t.sender.address:t.target&&t.target.address||""}getTxValue(e,t){return this.wallet.toCurrencyUnit(t.amount)}getTxDateTime(e){return new Date(e.timestamp)}getTxMemo(e){return""}async getTransaction(e,t){const r=await this.request(this.getTransactionUrl(t),this.getTransactionsMethod(),this.getTransactionsParams(e,void 0,0),"tx",this.getTransactionsOptions());return this.modifyTransactionResponse(r,e)}async getTransactions({address:e,pageNum:t,limit:r=this.defaultTxLimit}){const n=await this.request(this.getTransactionsUrl(e),this.getTransactionsMethod(),this.getTransactionsParams(e,r,this.getExtraParam(t,r)),"txs",this.getTransactionsOptions());return this.setExtraParam(n[n.length-1]),this.modifyTransactionsResponse(n,e)}getTxFee(){return this.wallet.toCurrencyUnit(this.wallet.feeDefault)}}var s=TzktAbstractExplorer;t.default=s},1726:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(466)),s=r(2371),i=n(r(20)),o=n(r(74)),c=r(52),l=r(26);a.default.config({DECIMAL_PLACES:50,EXPONENTIAL_AT:50});const u="0x0000000000000000000000000000456e65726779",d=new s.abi.Event({anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"});class VetNodeExplorer extends i.default{getAllowedTickers(){return["VET","VTHO"]}getApiPrefix(){return""}getInfoUrl(e){return`${this.getApiPrefix()}accounts/${e}`}getInfoOptions(){return""}normalizeBalance(e){const t=String(e),r=t.match(/^[\d.]+e\+(\d+)$/);if(r)return Number(t).toPrecision(Number(r[1])+1);if(t.match(/^([\d.]+)e-(\d+)$/)){const e=String(t).match(/^([\d.]+)e-(\d+)$/);return`0.${new Array(parseInt(e[2],10)).join("0")}${e[1].replace(".","")}`}return t}modifyInfoResponse(e){return{balance:new a.default(e.balance).toString(),energy:new a.default(e.energy).toString()}}async getTransactions({address:e,offset:t=0,limit:r=this.defaultTxLimit}){let n;this.latestBlock=await this.getLatestBlock();try{n=await super.getTransactions({address:e,offset:t,limit:r})}catch(e){var a,s;if(404===(null==e||null===(a=e.errorData)||void 0===a||null===(s=a.response)||void 0===s?void 0:s.status))return[];throw e}const i=await this.request(this.getTransfersUrl(),this.getTransactionsMethod(),this.getTransfersParams(e,t,r),"GetTxs",this.getTransactionsOptions()),o=this.modifyTransfersResponse(i,e);return n.concat(o)}getTransfersParams(e,t=0,r=this.defaultTxLimit){const n=this.addLeadingZeros(e),{number:a}=this.latestBlock,s={range:{unit:"block",from:0,to:a},options:{offset:t,limit:r},criteriaSet:[{address:u,topic0:n},{address:u,topic1:n},{address:u,topic2:n}],order:"desc"};return JSON.stringify(s)}getTransactionsParams(e,t=0,r=this.defaultTxLimit){const{number:n}=this.latestBlock,a={range:{unit:"block",from:1,to:n},options:{offset:t,limit:r},criteriaSet:[{recipient:e},{sender:e}],order:"desc"};return JSON.stringify(a)}getTransactionsMethod(){return"post"}getTransactionMethod(){return"get"}getTransactionUrl(e){return`transactions/${e}/receipt`}getTransactionParams(e){return{txId:e,raw:!0}}getTransactionsUrl(e){return"logs/transfer"}getTransfersUrl(){return"logs/event"}modifyTransactionResponse(e,t,r=this.wallet.ticker){const{meta:n,outputs:a}=e,s=a[0]&&a[0].transfers[0];if(s)return this.modifyTransactionsResponse([{meta:n,...s}],t)[0];const i=a[0]&&a[0].events[0];return i?this.modifyTransfersResponse([{meta:n,...i}],t)[0]:void 0}modifyTransactionsResponse(e,t){const r=[];return e.forEach(e=>{r.push(new o.default({ticker:this.wallet.ticker,name:this.wallet.name,walletid:this.wallet.id,txid:this.getTxHash(e),fee:this.getTxFee(e),feeTicker:this.wallet.parent,direction:this.getTxDirection(t,e.sender),otherSideAddress:this.getTxOtherSideAddress(t,e.sender,e.recipient),amount:this.getTxValue(t,e.amount),datetime:this.getTxDateTime(e.meta.blockTimestamp),memo:this.getTxMemo(e),confirmations:this.getTxConfirmations(e.meta.blockNumber),alias:this.wallet.alias}))}),r}modifyTransfersResponse(e,t,r="VTHO"){const n=[];return e.forEach(e=>{const{_from:a,_to:s,_value:i}=d.decode(e.data,e.topics);n.push(new o.default({ticker:r,name:"VeThor",walletid:(0,c.getTokenId)({ticker:r,contract:u,parent:this.wallet.parent}),txid:this.getTxHash(e),fee:this.getTxFee(e),feeTicker:this.wallet.parent,direction:this.getTxDirection(t,a),otherSideAddress:this.getTxOtherSideAddress(t,a,s),amount:this.wallet.toCurrencyUnit(i),datetime:this.getTxDateTime(e.meta.blockTimestamp),memo:this.getTxMemo(e),confirmations:this.getTxConfirmations(e.meta.blockNumber),alias:this.wallet.alias}))}),n}getTxHash(e){return e.meta.txID}getTxDirection(e,t){return t.toLowerCase()!==e.toLowerCase()}getTxOtherSideAddress(e,t,r){return t.toLowerCase()===e.toLowerCase()?r:t}getTxValue(e,t){return this.wallet.toCurrencyUnit(new a.default(t).toString())}getTxDateTime(e){return new Date(Number(e.toString()+"000"))}getTxConfirmations(e){return this.latestBlock?this.latestBlock.number-e:Number(10)}getLatestBlockUrl(){return this.getApiPrefix()+"blocks/best"}getSendTransactionParams(e){return{raw:e}}getSendTransactionUrl(){return"transactions"}async sendTransaction(e){const t=await this.request(this.getSendTransactionUrl(),this.getSendTransactionMethod(),this.getSendTransactionParams(e),l.SEND_TRANSACTION_TYPE,this.getSendOptions());return this.modifySendTransactionResponse(t)}modifySendTransactionResponse(e){if(void 0===e.id)throw new TypeError(e);return{txid:e.id}}addLeadingZeros(e){let[t,r]=e.split("0x");t="0x";const n=66-r.length;for(;t.length<n;)t+="0";return t+r}removeLeadingZero(e){return String(e).replace(/^0+/,"")}getTxFee(){return this.wallet.feeDefault}}var h=VetNodeExplorer;t.default=h},1834:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1400)),s=n(r(35)),i=n(r(20)),o=n(r(74)),c=r(52),l=r(26),u=r(102);class TronNodeExplorer extends i.default{getAllowedTickers(){return["TRX","BTT","USDT","WIN","USDC","BTTOLD"]}getInfoUrl(e){return"wallet/getaccount"}getInfoMethod(){return"post"}getInfoParams(e){return{address:a.default.address.toHex(e)}}getRewardUrl(){return"wallet/getReward"}getRewardMethod(){return"post"}getRewardParams(e){return{address:e}}getTransactionUrl(e){return"wallet/gettransactionbyid?value="+e}getTxHash(e){return e.txID}getTxValue(e,t){let r=null;return r="FreezeBalanceContract"===t.raw_data.contract[0].type||"UnfreezeBalanceContract"===t.raw_data.contract[0].type?t.raw_data.contract[0].parameter.value.frozen_balance:t.raw_data.contract[0].parameter.value.amount,(0,u.toCurrency)(r,this.wallet.decimal)}getTxDirection(e,t){return a.default.address.fromHex(t.raw_data.contract[0].parameter.value.owner_address)!==e}getTxOtherSideAddress(e,t){const r=a.default.address.fromHex(t.raw_data.contract[0].parameter.value.owner_address);let n=null;return n="VoteWitnessContract"===t.raw_data.contract[0].type?a.default.address.fromHex(t.raw_data.contract[0].parameter.value.votes[0].vote_address):"FreezeBalanceContract"===t.raw_data.contract[0].type?"Freeze balance":"UnfreezeBalanceContract"===t.raw_data.contract[0].type?"Unfreeze balance":"WithdrawBalanceContract"===t.raw_data.contract[0].type?"Reward":a.default.address.fromHex(t.raw_data.contract[0].parameter.value.to_address),this.getTxDirection(e,t)?r:n}getTxDateTime(e){return new Date(e.raw_data.timestamp)}getTxConfirmations(e){return 1}getTxAsset(e,t){if(e.raw_data.contract[0].parameter.value.asset_name){const r=a.default.toAscii(e.raw_data.contract[0].parameter.value.asset_name);return t[r]&&t[r].ticker}return this.wallet.ticker}getTxAssetId(e){if(e.raw_data.contract[0].parameter.value.asset_name){const t=a.default.toAscii(e.raw_data.contract[0].parameter.value.asset_name);return(0,c.getTokenId)({ticker:this.wallet.tokens()[t].ticker,contract:t,parent:this.wallet.parent})}return this.wallet.id}modifyTransactionResponse(e,t,r){return new o.default({ticker:this.getTxAsset(e,r),name:this.wallet.name,alias:this.wallet.alias,walletid:this.getTxAssetId(e),explorer:this.constructor.name,txid:this.getTxHash(e),fee:this.getTxFee(e),feeTicker:this.wallet.parent,direction:this.getTxDirection(t,e),otherSideAddress:this.getTxOtherSideAddress(t,e),amount:this.getTxValue(t,e),datetime:this.getTxDateTime(e),memo:this.getTxMemo(e),confirmations:this.getTxConfirmations(e)})}async getInfo(e){if(!e||"string"!=typeof e)throw this.createError("getInfo: address must be string with length > 0");if(this.defaultRequestTimeout&&Date.now()-this.defaultRequestTimeout*l.ONE_MINUTE<this.lastGetInfoRequestTime)return this.modifyInfoResponse(void 0);this.defaultRequestTimeout&&Date.now()-this.defaultRequestTimeout*l.ONE_MINUTE>this.lastGetInfoRequestTime&&(this.lastGetInfoRequestTime=Date.now());const t=await this.request(this.getInfoUrl(e),this.getInfoMethod(),this.getInfoParams(e),l.GET_BALANCE_TYPE,this.getInfoOptions()),r=await this.request(this.getRewardUrl(),this.getRewardMethod(),this.getRewardParams(e),l.GET_BALANCE_TYPE,this.getInfoOptions());return t&&r&&(t.reward=r.reward),this.modifyInfoResponse(t)}modifyInfoResponse(e){if(e.Error)throw new Error(e.Error);const{balance:t=0,frozen:r=[],votes:n=[],account_resource:a={},reward:i="0",assetV2:o}=e||{},{frozen_balance_for_energy:{frozen_balance:c=0}={}}=a;return{balance:new s.default(t).toString(),assetV2:o,stakingInfo:{frozen:r,votes:n,reward:i,accountResource:a,frozenBalanceForEnergy:c}}}}var d=TronNodeExplorer;t.default=d},1857:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20));class TezosNodeExplorer extends a.default{getAllowedTickers(){return["XTZ"]}getInfoUrl(e){return`${this.config.baseUrl}/chains/main/blocks/head/context/contracts/${e}/balance`}getDelegate(e){return this.request(`${this.config.baseUrl}/chains/main/blocks/head/context/contracts/${e}/delegate`)}getTransaction(e,t){return super.modifyTransactionResponse(t,e)}async isValidator(e){return!!await this.request(`${this.config.baseUrl}/chains/main/blocks/head/context/delegates/${e}`).catch(e=>console.warn(e))}modifyInfoResponse(e){return{balance:e}}getTxDirection(e,t){return t.contents[0].destination===e}getTxConfirmations(e){return 1}getTxDateTime(e){return new Date}getTxValue(e,t){return this.wallet.toCurrencyUnit(t.contents[0].amount)}getTxHash(e){return e.hash}getTxOtherSideAddress(e,t){return this.getTxDirection(e,t)?t.contents[0].source:t.contents[0].destination}}var s=TezosNodeExplorer;t.default=s},1868:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(472),s=n(r(20));class ZilliqaAbstractExplorer extends s.default{getAllowedTickers(){return["ZIL"]}getBech32Address(e){return(0,a.toBech32Address)(e)}getValidChecksumAddress(e){let t="";try{t=(0,a.toChecksumAddress)(e)}catch(r){t=(0,a.toChecksumAddress)((0,a.fromBech32Address)(e))}return t.toLowerCase()}toValidChecksumAddress(e){return this.getValidChecksumAddress(e).replace(/^0x/,"")}}var i=ZilliqaAbstractExplorer;t.default=i},2737:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(2349),s=n(r(20)),i=r(29),o=r(26),c=n(r(55));const l=e=>404===e.response.status;class XlmExplorer extends s.default{constructor(){super(...arguments),this.server=new a.Server(this.config.baseUrl),this.defaultTxLimit=200,this.fee=arguments[3]}getAllowedTickers(){return["XLM"]}async getTransaction(e,t){let r;try{const n=(await this.server.ledgers().limit(1).order("desc").call()).records[0].sequence;r=await this.server.transactions().transaction(t).call();const{records:[a]}=await r.operations();if(a){if("create_account"===a.type)return super.modifyTransactionResponse(this.parseCreateAccountOperation(n,r,a,e),e);if("payment"===a.type)return super.modifyTransactionResponse(this.parsePaymentOperation(n,r,a,e),e)}}catch(e){c.default.error({instance:this,error:e})}return r}getTransactionsUrl(e){return"account_tx"}getTransactionsParams(e){return{account:e,limit:999}}getTransactionUrl(e){return""}getTransactionParams(e){return{}}getTxDateTime(e){return new Date(Number(""+e.timestamp))}getTxValue(e,t){return t.amount}getTxDirection(e,t){return t.addressTo.toLowerCase()===e.toLowerCase()}getTxOtherSideAddress(e,t){return this.getTxDirection(e,t)?t.addressFrom:t.addressTo}getInfoUrl(e){return""}async getInfo(e){try{return{balance:await this.getBalance(e)}}catch(e){if(l(e))return{balance:0};throw new i.ExplorerRequestError({type:o.GET_BALANCE_TYPE,error:e,instance:this})}}getTxMemo(e){return e.memo}getTxConfirmations(e){return Number(e.confirmations)}async sendTransaction(e,t,r,n){let s,c=!1;const u=this.wallet.toCurrencyUnit(e.amount);try{s=await this.server.loadAccount(t)}catch(e){throw new i.ExplorerRequestError({type:o.SEND_TRANSACTION_TYPE,error:e,instance:this})}const d=new a.TransactionBuilder(s,{fee:n,networkPassphrase:a.Networks.PUBLIC});try{await this.server.loadAccount(e.address)}catch(e){"XLM"===this.wallet.ticker&&l(e)&&(c=!0)}c?d.addOperation(a.Operation.createAccount({destination:e.address,startingBalance:u})):d.addOperation(a.Operation.payment({destination:e.address,asset:a.Asset.native(),amount:u})),e.paymentId&&d.addMemo(a.Memo.text(String(e.paymentId))),d.setTimeout(30);const h=d.build();h.sign(a.Keypair.fromSecret(r));return{txid:(await this.server.submitTransaction(h)).hash}}async getBalance(e){const t=await this.loadAccount(e);let r="0";return t.balances.forEach(e=>{"native"===e.asset_type&&(r=e.balance)}),this.wallet.toMinimalUnit(r)}parseCreateAccountOperation(e,t,r,n){return{addressFrom:r.source_account,addressTo:r.account,isIncoming:!(r.source_account===n),confirmations:e-t.ledger_attr,blockhash:t.ledger_attr,timestamp:new Date(t.created_at).getTime(),amount:String(r.starting_balance).replace(/[.]?0+$/,""),txid:t.id,fee:t.fee_charged,memo:t.memo}}parsePaymentOperation(e,t,r,n){return{addressFrom:r.from,addressTo:r.to,isIncoming:!(r.source_account===n),confirmations:e-t.ledger_attr,blockhash:t.ledger_attr,timestamp:new Date(t.created_at).getTime(),amount:String(r.amount).replace(/[.]?0+$/,""),txid:t.id,fee:t.fee_charged,memo:t.memo}}async getTransactions({address:e,offset:t=0,limit:r=this.defaultTxLimit}){try{const[t,n,a]=await Promise.all([this.server.ledgers().limit(1).order("desc").call(),this.server.transactions().forAccount(e).limit(r).order("desc").call(),this.server.operations().forAccount(e).order("desc").limit(r).call()]),s=t.records[0].sequence,i=[];for(let t=0;t<n.records.length;t+=1){const r=n.records[t],o=a.records.filter(e=>e.transaction_hash===r.id);for(let t=0;t<o.length;t+=1){const n=o[t];"create_account"===n.type?i.push(this.parseCreateAccountOperation(s,r,n,e)):"payment"===n.type&&i.push(this.parsePaymentOperation(s,r,n,e))}}return super.modifyTransactionsResponse(i,e)}catch(e){if(l(e))return[];throw new i.ExplorerRequestError({type:o.GET_TRANSACTIONS_TYPE,error:e,instance:this})}}loadAccount(e){return new Promise((t,r)=>{this.server.loadAccount(e).then(e=>t(e)).catch(e=>r(e))})}async getFee(){return new this.wallet.BN(this.fee)}async getCurrentLedger(){return(await this.request("ledger_current")).ledger_current_index}getTxFee(e){return this.wallet.toCurrencyUnit(e&&e.fee||0)}}var u=XlmExplorer;t.default=u},2904:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20)),s=n(r(74)),i=r(29),o=r(52),c=r(26),l=r(102);const u="PC65R3S3YXXM8H2WIRJQWCSUUAR8JKRGJ4",d=["No transactions found"];class PolyscanExplorer extends a.default{constructor({wallet:e,config:t}){super({wallet:e,config:t})}getAllowedTickers(){return["MATIC"]}modifyGeneralResponse(e){const{status:t,message:r}=(null==e?void 0:e.data)||{};if("1"===t||d.includes(r))return e.data;throw new i.ExplorerRequestError({type:c.GET_BALANCE_TYPE,error:new Error(JSON.stringify(e)),instance:this})}getTransactionsUrl(e){return""}getTransactionsParams(e){return{module:"account",action:"txlist",address:e,startblock:0,endblock:99999999,sort:"desc",apikey:u}}async getBalance(e){const t={module:"account",action:"balance",address:e,apikey:u},r=await this.request("","get",t);return this.modifyGeneralResponse(r)}modifyTransactionsResponse(e,t){return super.modifyTransactionsResponse(e.result,t)}getTransactionsModifiedResponse(...e){return new s.default(super.getTransactionsModifiedResponse(...e))}getTxHash(e){return e.hash}getTxDateTime(e){return new Date(1e3*Number(e.timeStamp))}getTxFee(e){const t=new this.wallet.BN(e.gasPrice).mul(new this.wallet.BN(e.gasUsed));return this.wallet.toCurrencyUnit(t)}getTxConfirmations(e){return Number(e.confirmations)}getTxDirection(e,t){return e.toLowerCase()!==t.from.toLowerCase()}getTxOtherSideAddress(e,t){return e.toLowerCase()===t.from.toLowerCase()?t.to:t.from}getTxValue(e,t){return this.wallet.toCurrencyUnit(t.value)}async getTokenTransactions({address:e}){const t={module:"account",action:"tokentx",address:e,startblock:0,endblock:99999999,sort:"desc",apikey:u};return(await this.request(this.getTransactionsUrl(e),this.getTransactionsMethod(),t,c.GET_TRANSACTIONS_TYPE,this.getTransactionsOptions())).result.map(t=>new s.default({ticker:t.tokenSymbol,name:t.tokenName,walletid:(0,o.getTokenId)({ticker:t.tokenSymbol,contract:t.contractAddress,parent:this.wallet.parent}),txid:this.getTxHash(t),direction:this.getTxDirection(e,t),otherSideAddress:this.getTxOtherSideAddress(e,t),amount:this.getTokenTxAmount(t),datetime:this.getTxDateTime(t),confirmations:this.getTxConfirmations(t),nonce:this.getTxNonce(t),alias:this.wallet.alias,fee:this.getTxFee(t),feeTicker:this.getTxFeeTicker()}))}getTokenTxAmount(e){return(0,l.toCurrency)(e.value,Number(e.tokenDecimal))}}var h=PolyscanExplorer;t.default=h},2905:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(67)),s=n(r(20)),i=n(r(74)),o=r(29),c=r(26);const l=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"}];class Web3Explorer extends s.default{constructor(...e){super(...e),this.requestId=0}getAllowedTickers(){return["ETH","ETC","BSC","MATIC","AVAX","FLR","FTM","FIL","ETHOP"]}async getInfo(e,t=!1){return{balance:e?await this.wallet.coreLibrary.eth.getBalance(e).catch(e=>{throw new o.ExplorerRequestError({type:c.GET_BALANCE_TYPE,error:e,instance:this})}):null,transactions:[]}}async getTokensInfo(e,t){const r=e.length;for(let n=0;n<r;n+=1){const r=e[n],a=r.contract;r.balance=await this.getTokenBalanceByContractAddress({address:t,contractAddress:a.toLowerCase()})}return r}async getTransaction(e,t,r){let n=this.wallet;const a=await this.wallet.coreLibrary.eth.getTransaction(t);if(!a)return null;const{timestamp:s}=await this.wallet.coreLibrary.eth.getBlock(a.blockNumber),{number:o}=await this.wallet.coreLibrary.eth.getBlock("latest"),c=await this.wallet.coreLibrary.eth.getTransactionReceipt(t);return"0x"!==a.input&&(a.inputDecode=this.decodeInput(a.input),c&&a.inputDecode&&"transfer"===a.inputDecode.method&&c.to&&r&&void 0!==r[c.to.toLowerCase()]&&(n=r[c.to.toLowerCase()])),new i.default({ticker:n.ticker,name:n.name,walletid:n.id,txid:this.getTxHash(a),fee:this.getTxFee(a),feeTicker:this.wallet.getFeeTicker(),direction:this.getTxDirection(e,a),otherSideAddress:this.getTxOtherSideAddress(e,a),amount:this.getTxValue(e,a,n),datetime:new Date(Number(s+"000")),memo:this.getTxMemo(a),nonce:this.getTxNonce(a),confirmations:o-a.blockNumber,alias:n.alias,status:c&&c.status||""})}async getTransactions({address:e,offset:t=0,limit:r=this.defaultTxLimit}){return[]}sendTransaction(e){return new Promise((t,r)=>{this.wallet.coreLibrary.eth.sendSignedTransaction(e).on("transactionHash",e=>{t({txid:e})}).catch(e=>r(e))})}async getGasPrice(){const e=await this.wallet.coreLibrary.eth.getGasPrice();return{node:new this.wallet.BN(e)}}getGasPriceConfig(){return a.default.get("eth-gas-price",!1,{timeout:1e4}).catch(e=>console.warn(e))}async getGasLimit(){const e=await this.wallet.coreLibrary.eth.getBlockNumber();return(await this.wallet.coreLibrary.eth.getBlock(e)).gasLimit}getTxHash(e){return e.hash}getTxDateTime(e){return new Date(Number(e.timeStamp+"000"))}getTxNonce(e){return e.nonce}getTxConfirmations(e){return Number(e.confirmations)}getTxDirection(e,t){return e.toLowerCase()!==t.from.toLowerCase()}getTxOtherSideAddress(e,t){let r=t.to;if(t.inputDecode&&"transfer"===t.inputDecode.method)try{r=t.inputDecode.params._to}catch(e){r="contr:"+r}return e.toLowerCase()===t.from.toLowerCase()?r:t.from}getTxValue(e,t,r=this.wallet){let n=t.value;if(t.inputDecode&&"transfer"===t.inputDecode.method)try{n=t.inputDecode.params._value}catch(e){n=0}return r.toCurrencyUnit(n)}async getTokenBalanceByContractAddress({address:e,contractAddress:t}){return new this.wallet.coreLibrary.eth.Contract(l,t).methods.balanceOf(e).call()}createSendTokenContract(e,t,r,n){return new this.wallet.coreLibrary.eth.Contract(this.getERC20ABI(),e,{from:t}).methods.transfer(r,n).encodeABI()}decodeInput(e){try{if(this.wallet.coreLibrary.utils.isHex(e)){try{return this.wallet.coreLibrary.utils.hexToString(e)}catch(e){}const t=4,r=Buffer.from(e.replace(/^0x/,""),"hex"),n="0x"+r.slice(0,t).toString("hex"),a=r.slice(t),s={method:null,params:{}};return this.getERC20ABI().forEach(e=>{try{const t=this.wallet.coreLibrary.eth.abi.encodeFunctionSignature(e),r=e.inputs?e.inputs.map(e=>e.type):[],i=e.inputs?e.inputs.map(e=>e.name):[];if(n===t){const t=this.wallet.coreLibrary.eth.abi.decodeParameters(r,"0x"+a.toString("hex"));s.method=e.name;for(const e in t)void 0!==t[e]&&(s.params[i[e]]=t[e])}}catch(e){return null}return null}),s}}catch(e){throw new o.InternalError({type:c.INTERNAL_ERROR,error:e,instance:this})}return null}getERC20ABI(){return[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor"},{payable:!1,type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}]}}var u=Web3Explorer;t.default=u},2906:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20)),s=r(29),i=r(26);class YoroExplorer extends a.default{constructor(...e){super(...e),this.lastTx=void 0,this.updating=!1,this.txs=[],this.lastDelegationCert=null}getAllowedTickers(){return["ADA"]}async getInfo(e){return{balance:await this.getBalance(e),transactions:this.wallet.transactions}}async getTransactions({address:e,offset:t=0,limit:r=this.defaultTxLimit}){const{hash:n=null}=await this.getLatestBlock();if(!n)return this.txs;return(await this.getTransactionsQueued({blockHash:n,address:e})).filter((a=new Set,({txid:e})=>!a.has(e)&&a.add(e))).sort((e,t)=>t.timestamp-e.timestamp);var a}async getTransactionsQueued({blockHash:e,address:t,recursion:r=!1,after:n}){if(this.updating&&!r)return this.txs;if(this.updating||r||(this.txs=[]),this.lastTx){const e={tx:this.lastTx.hash,block:this.lastTx.block_hash};n=n||e}this.updating=!0;const a=String(e),s=await this.request(this.getTransactionsUrl(t),this.getTransactionsMethod(),this.getTransactionsParams(t,a,n),"GetTxs",this.getInfoOptions()).catch(()=>{this.updating=!1});if(!s)return this.updating=!1,this.txs;const i=this.modifyTransactionsResponse(s,t);if(this.txs.push(...i),s.length>0){const e=s[s.length-1];e.certificates.length>0&&e.certificates.forEach(e=>{"StakeDelegation"===e.kind&&(this.lastDelegationCert=e)});const r={tx:e.hash,block:e.block_hash};this.lastTx=e;return await this.getTransactionsQueued({blockHash:a,address:t,recursion:!0,after:r})}return this.lastUpdatedTx=!1,this.updating=!1,this.txs}getLatestBlockUrl(){return"/api/v2/bestblock"}getTransactionsUrl(e){return"/api/v2/txs/history"}getUnspentOutputsUrl(){return"/api/txs/utxoForAddresses"}getUTXOUrl(){return"/api/txs/utxoForAddresses"}getRegistrationHistoryUrl(){return"/api/getRegistrationHistory"}getTxUrl(e){return"/api/txs/summary/"+e}getAccountStateUrl(){return"/api/getAccountState"}getInfoOptions(){return{headers:{"tangata-manu":"atomic"}}}getBroadcastUrl(){return this.config.submitUrl||"api/txs/signed"}getTransactionsMethod(){return"post"}getTransactionsParams(e,t,r){return{addresses:[e],untilBlock:t,after:r}}modifyTransactionsResponse(e,t){return super.modifyTransactionsResponse(e.reverse(),t)}getTxHash(e){return e.hash}getTxDirection(e,t){return!t.inputs.find(t=>e===t.address)}getTxOtherSideAddress(e,t){if(this.getTxDirection(e,t)){return t.inputs.find(t=>e!==t.address).address}const r=t.outputs.find(t=>e!==t.address);return r?r.address:e}getTxValue(e,t){const r=this.getTxDirection(e,t),n=[];t.outputs.forEach((t,a)=>{r&&t.address===e?n.push(a):r||t.address===e||n.push(a)});const a=t.inputs.map(e=>e.address),s=t.outputs.map(e=>e.address);let i;if(a.concat(s).every(t=>t===e)){const e=t.outputs.reduce((e,t)=>e.add(new this.wallet.BN(t.amount)),new this.wallet.BN(0));i=t.inputs.reduce((e,t)=>e.add(new this.wallet.BN(t.amount)),new this.wallet.BN(0)).sub(e).toString()}else i=n.reduce((e,r)=>e.add(new this.wallet.BN(t.outputs[r].amount)),new this.wallet.BN(0)).toString();return this.wallet.toCurrencyUnit(i)}getTxDateTime(e){return new Date(e.time)}getTxConfirmations(e){return Number(e.best_block_num)-Number(e.block_num)}async getBalance(e){return(await this.getUTXO(e).catch(e=>{throw new s.ExplorerRequestError({type:i.GET_BALANCE_TYPE,error:e,url:this.getUTXOUrl(),instance:this})})).reduce((e,{amount:t})=>e.add(new this.wallet.BN(t)),new this.wallet.BN(0)).toString()}async getUnspentOutputs(e){return this.getUTXO(e)}async getUTXO(e){return await this.request(this.getUTXOUrl(),"post",{addresses:[e]},void 0,this.getInfoOptions()).catch(e=>{throw new s.ExplorerRequestError({type:i.GET_UTXO_TYPE,error:e,url:this.getUTXOUrl(),instance:this})})}async sendTransaction({rawtx:e,txid:t}){const r=Buffer.from(e).toString("base64");if(!await this.request(this.getBroadcastUrl(),"post",{signedTx:r},void 0,this.getInfoOptions()).catch(e=>{throw new s.ExplorerRequestError({type:i.SEND_TRANSACTION_TYPE,error:e,url:this.getBroadcastUrl(),instance:this})}))throw new s.ExplorerRequestError({type:i.SEND_TRANSACTION_TYPE,error:"ADA: sendTransaction: response.data doesn't have Right property",url:this.getBroadcastUrl(),instance:this});return{txid:t}}async getTxSummary(e){return this.request(this.getTxUrl(e),"get",{},void 0,this.getInfoOptions())}async getTxsSummary(e){const t=[];for(const r of e){const e=await this.getTxSummary(r);t.push(e)}return t}async getRegistrationHistory(e){return this.request(this.getRegistrationHistoryUrl(),"post",{addresses:[e]},void 0,this.getInfoOptions())}async getAccountState(e){return this.request(this.getAccountStateUrl(),"post",{addresses:[e]},void 0,this.getInfoOptions())}}var o=YoroExplorer;t.default=o},2907:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1655));class TzktExplorer extends a.default{getTransactionsUrl(e){return`${this.config.baseUrl}accounts/${e}/operations`}getTransactionUrl(e){return`${this.config.baseUrl}explorer/op/${e}`}getExtraParam(){return this.lastTxId}setExtraParam(e){this.lastTxId=null==e?void 0:e.id}getTransactionsParams(e,t,r){return{lastId:r,limit:t}}}var s=TzktExplorer;t.default=s},2908:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1655));class TzktIoV1Explorer extends a.default{getTransactionsUrl(e){return this.config.baseUrl+"/operations/transactions"}getTransactionUrl(e){return`${this.config.baseUrl}/operations/transactions/${e}`}getExtraParam(e,t){return e*t}setExtraParam(){}getTransactionsParams(e,t,r){return{"anyof.sender.target":e,limit:t,offset:r,"sort.desc":"id"}}}var s=TzktIoV1Explorer;t.default=s},2909:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20));class TezosExplorer extends a.default{getAllowedTickers(){return["XTZ"]}getInfoUrl(e){return"v1/node_account/"+e}getTransactionUrl(e){return"v1/operation/"+e}getTransactionsUrl(e){return`v1/operations/${e}?type=Transaction&p=0&number=99`}modifyInfoResponse(e){return{balance:e.balance,transactions:[]}}modifyTransactionsResponse(e,t){return super.modifyTransactionsResponse(e,t)}getTxHash(e){return e.hash}getTxDirection(e,t){return t.type.operations[0].destination.tz===e}getTxOtherSideAddress(e,t){return t.type.operations[0].destination.tz===e?e:t.type.operations[0].destination.tz}getTxValue(e,t){return this.wallet.toCurrencyUnit(t.type.operations[0].amount)}getTxDateTime(e){return new Date(e.type.operations[0].timestamp)}getTxConfirmations(e){return 10}async sendTransaction(e){return this.wallet.sendTransaction(e)}}var s=TezosExplorer;t.default=s},2913:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20)),s=r(29),i=r(26);class RippleExplorer extends a.default{constructor(...e){super(...e),this.requestId=0}getInitParams(){return{baseURL:this.config.baseUrl,headers:{"Content-Type":"text/plain"},credentials:!1}}async checkStatusTransaction(e){return(await this.request(this.getTransactionUrl(e),this.getTransactionMethod(),this.getTransactionParams(e),i.GET_TRANSACTION_TYPE,this.getTransactionOptions())).status}getAllowedTickers(){return["XRP"]}getInfoUrl(e){return"account_info"}getInfoParams(e){return{account:e}}modifyInfoResponse(e){return{balance:e.account_data.Balance,transactions:[],sequence:e.account_data.Sequence}}getTransactionsUrl(e){return"account_tx"}getTransactionsParams(e){return{account:e,limit:999}}modifyTransactionsResponse(e,t){return this.currentLedgerVersion=e.ledger_index_max,e.transactions.map(({tx:e})=>this.modifyTransactionResponse(e,t))}getTransactionUrl(e){return"tx"}getTransactionParams(e){return{transaction:e,binary:!1}}getTxHash(e){return e.hash}getTxDirection(e,t){return t.Destination===e}getTxOtherSideAddress(e,t){return this.getTxDirection(e,t)?t.Account:t.Destination}getTxValue(e,t){return Number(this.wallet.toCurrencyUnit(t.Amount))}getTxDateTime(e){const t=e.date+946684800;return new Date(Number(t+"000"))}getTxMemo(e){return String(e.DestinationTag)||""}getTxConfirmations(e){return this.currentLedgerVersion-e.inLedger}async sendTransaction(e){const t=await this.request("submit",null,{tx_blob:e});if("tesSUCCESS"===!t.engine_result)throw new s.ExplorerRequestError({type:i.SEND_TRANSACTION_TYPE,error:new Error(t.engine_result),instance:this});return{txid:t.tx_json.hash}}async getFee(){return(await this.request("fee")).drops.median_fee}async getCurrentLedger(){return(await this.request("ledger_current")).ledger_current_index}async getServerInfo(){return(await this.request("server_info")).info}async request(e,t,r={},n=i.UNDEFINED_OPERATION_ERROR){this.requestId+=1;const a={jsonrpc:"2.0",method:e,params:[r],id:this.requestId},o=await this.client.post("",JSON.stringify(a)).catch(t=>{throw new s.ExplorerRequestError({type:n,error:t,url:e,instance:this})});if("actNotFound"===o.data.result.error)return{account_data:{Balance:0}};if("error"===o.data.result.status)throw new s.ExplorerRequestError({type:n,url:e,error:new Error(o.data.result.error_message),instance:this});return o.data.result}getTxFee(e){return this.wallet.toCurrencyUnit(e&&e.Fee||0)}}var o=RippleExplorer;t.default=o},3140:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20));class TzindexExplorer extends a.default{getAllowedTickers(){return["XTZ"]}getTransactionsUrl(e){return`${this.config.baseUrl}explorer/account/${e}/op`}getTransactionUrl(e){return`${this.config.baseUrl}explorer/op/${e}`}getTransactionsParams(e,t=0,r=this.defaultTxLimit){return{offset:t,limit:r}}modifyTransactionsResponse(e,t){return super.modifyTransactionsResponse(e.ops,t)}getTxHash(e){return e.hash}getTxDirection(e,t){return t.receiver===e}getTxOtherSideAddress(e,t){return this.getTxDirection(e,t)?t.sender:t.receiver||t.delegate}getTxValue(e,t){return t.volume}getTxDateTime(e){return new Date(e.time)}getTxMemo(e){return""}async getTransaction(e,t){const r=await this.request(this.getTransactionUrl(t),this.getTransactionsMethod(),this.getTransactionsParams(e,0,0),"tx",this.getTransactionsOptions());return this.modifyTransactionResponse(r,e)}async getTransactions({address:e}){const t=await this.request(this.getTransactionsUrl(e),this.getTransactionsMethod(),this.getTransactionsParams(e,0,0),"txs",this.getTransactionsOptions()),r=Number(t.n_ops),n=[];let a=100*Math.floor(r/100),s=0;do{const t=await this.request(this.getTransactionsUrl(e),this.getTransactionsMethod(),this.getTransactionsParams(e,a,100),"txs",this.getTransactionsOptions());s++,n.push(t),a-=100}while(a>=0&&s<5);let i=[];return n.forEach(t=>{i=i.concat(this.modifyTransactionsResponse(t,e))}),i}}var s=TzindexExplorer;t.default=s},3313:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1400)),s=n(r(20)),i=n(r(74)),o=r(52),c=n(r(55));const l=["getDynamicEnergyThreshold","getDynamicEnergyIncreaseFactor","getDynamicEnergyMaxFactor"];class TrongridExplorer extends s.default{constructor(...e){super(...e),this.defaultTxLimit=200}addressHex(e){return a.default.address.toHex(e)}getAllowedTickers(){return["TRX"]}getApiPrefix(){return"v1/"}getInfoUrl(e){return`${this.getApiPrefix()}accounts/${this.addressHex(e)}`}getTransactionsParams(e,t=0,r=this.defaultTxLimit){return{address:e,limit:r}}modifyInfoResponse(e){var t,r;return{votes:null===(t=e.data[0])||void 0===t?void 0:t.votes,balance:null===(r=e.data[0])||void 0===r?void 0:r.balance}}getTransactionUrl(e){return"transaction-info?hash="+e}getTransactionsUrl(e){return`${this.getApiPrefix()}accounts/${this.addressHex(e)}/transactions/trc20`}getContractInfoUrl(){return"wallet/getcontractinfo"}getContractInfoMethod(){return"POST"}getContractInfoParams(e){return{value:e,visible:!0}}getChainParametersUrl(){return"wallet/getchainparameters"}getContractInfo(e){return this.request(this.getContractInfoUrl(),this.getContractInfoMethod(),this.getContractInfoParams(e))}getChainParameters(){return this.request(this.getChainParametersUrl(),this.getInfoMethod())}getEstimatedEnergyUrl(){return"wallet/triggerconstantcontract"}getEstimatedEnergyMethod(){return"POST"}getEstimatedEnergyParameters(e){return e}async getDynamicEnergyParameters(){const{chainParameter:e=[]}=await this.request(this.getChainParametersUrl(),this.getInfoMethod());return this.modifyDynamicEnergyParametersResponse(e)}modifyDynamicEnergyParametersResponse(e){return e.reduce((e,{key:t,value:r})=>(l.includes(t)&&(e[t]=r),e),{})}modifyEstimagedEnergyResponse(e){var t,r;if("FAILED"!==(null==e||null===(t=e.transaction)||void 0===t||null===(r=t.ret[0])||void 0===r?void 0:r.ret))return null==e?void 0:e.energy_used;c.default.error({instance:this,error:new Error("[TrongridExplorer]: Failed to call estimate energy, node rejects tx with REVERT opcode, probably invalid tx was passed")})}async getEstimatedEnergy(e){const t=await this.request(this.getEstimatedEnergyUrl(),this.getEstimatedEnergyMethod(),this.getEstimatedEnergyParameters(e));return this.modifyEstimagedEnergyResponse(t)}modifyTransactionsResponse(e,t,r=this.wallet.ticker){return{trc20transfers:e.data.filter(e=>{var t;return null==e||null===(t=e.token_info)||void 0===t?void 0:t.symbol}).map(e=>new i.default({ticker:this.getTxAsset(e),name:e.token_info.name,txid:this.getTxHash(e),walletid:(0,o.getTokenId)({contract:e.token_info.address,parent:this.wallet.parent,ticker:this.getTxAsset(e)}),fee:this.wallet.getTRC20Fee(e),feeTicker:this.wallet.parent,direction:this.getTxDirection(t,e),otherSideAddress:this.getTxOtherSideAddress(t,e),amount:this.getTxValue(t,e,e.token_info.decimals),datetime:this.getTxDateTime(e),memo:this.getTxMemo(e),confirmations:this.getTxConfirmations(e),alias:this.wallet.alias}))}}async getBalance(){const e=await this.getInfo();return this.wallet.toCurrencyUnit(e.balance)}getTxAsset(e){const t=e.token_info.symbol;return"USDT"===t?"TRX-USDT":"USDC"===t?"TRX-USDC":t}getTxHash(e){return e.transaction_id}getTxDirection(e,t){return t.to===e}getTxOtherSideAddress(e,t){return this.getTxDirection(e,t)?t.from:t.to}getTxValue(e,t,r=this.wallet.decimal){return this.wallet.toCurrencyUnit(t.value,r)}getTxDateTime(e){return new Date(Number(e.block_timestamp))}getTxConfirmations(e){return 1}}var u=TrongridExplorer;t.default=u},3405:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(3406)),s=n(r(20)),i=n(r(74)),o=r(29),c=r(52),l=r(26);const u=1,d=3,h=4,g=11,f=12,p=13,m=14,T=43;class TronscanExplorer extends s.default{constructor(...e){super(...e),this.httpclient=new a.default.Client(this.config.baseUrl.replace("/api/","")),this.helper=a.default,this.defaultTxLimit=50}getAllowedTickers(){return["TRX","BTT","WIN","USDC","BTTOLD"]}getInfoUrl(e){return"account?address="+e}getTransactionsParams(e,t=0,r=this.defaultTxLimit){return{start:t,limit:r}}modifyInfoResponse(e){return{balance:String(e.balance),assets:e.trc20token_balances}}getAccount(e){return this.request("account?address="+e)}getVotes(e){return this.request("vote?voter="+e)}getTransactionUrl(e){return"transaction-info?hash="+e}getLatestBlockUrl(){return"block/latest"}async getTransactions({address:e,offset:t=0,limit:r=this.defaultTxLimit}){return this.latestBlock=await this.getLatestBlock(),super.getTransactions({address:e,offset:t,limit:r})}getTransactionsUrl(e){return"transaction?sort=-timestamp&address="+e}modifyTransactionsResponse(e,t,r=this.wallet.ticker){const n=e.data.filter(e=>{var t;return"trx"!==(null===(t=e.tokenInfo)||void 0===t?void 0:t.tokenAbbr)});return{transactions:e.data.filter(e=>{var r;return"trx"===(null===(r=e.tokenInfo)||void 0===r?void 0:r.tokenAbbr)&&[e.ownerAddress,e.toAddress].includes(t)||"vote"===this.getTransactionType(e)||"regular"===this.getTransactionType(e)&&"0"===e.amount}).map(e=>this.getTransaction(t,e,this.getBatchTxValue(t,e),r,this.wallet.id,this.wallet.name)),transfers:n}}modifyTransactionResponse(e,t,r=this.wallet.ticker){return this.getTransaction(t,e,this.getTxValue(t,e),this.wallet.ticker,this.wallet.id,this.wallet.name)}modifyTokenTransactionResponse(e,t,r,n){return this.getTransaction(t,e,this.getTxValue(t,e,n),r,(0,c.getTokenId)({ticker:r,contract:e.tokenName,parent:this.wallet.parent}))}getSendTransactionUrl(){return"broadcast"}getSendTransactionParam(){return"transaction"}modifySendTransactionResponse(e){if("SUCCESS"!==e.data.code)throw new o.ExplorerRequestError({type:l.SEND_TRANSACTION_TYPE,error:e.data.message,instance:this});return{txid:this.lastSendingTransactionHash}}async sendTransaction(e,t){try{return this.httpclient.apiUrl=this.config.baseUrl.replace("/api/",""),await this.httpclient.sendTransaction(t,e),{txid:this.SHA256(e.getRawData().serializeBinary())}}catch(e){throw new o.ExplorerRequestError({type:l.SEND_TRANSACTION_TYPE,error:e,instance:this})}}async getBalance(){const e=await this.getInfo();return this.wallet.toCurrencyUnit(e.balance)}getTxHash(e){return e.hash}getTxDirection(e,t){return(t.contractType!==g||t.ownerAddress.toLowerCase()!==e.toLowerCase())&&(t.toAddress.toLowerCase()===e.toLowerCase()||""===t.toAddress&&t.ownerAddress.toLowerCase()===e.toLowerCase())}getTxOtherSideAddress(e,t){switch(t.contractType){case g:return"Freeze";case f:case m:return"Unfreeze";case p:return"Reward";case u:default:return t.toAddress.toLowerCase()===e.toLowerCase()?t.ownerAddress:t.toAddress}}getBatchTxValue(e,t,r=this.wallet.decimal){return"vote"===this.getTransactionType(t)?t.amount:this.wallet.toCurrencyUnit(t.amount,r)}getTxValue(e,t,r=this.wallet.decimal){switch(t.contractType){case g:return"Freeze";case f:case m:return this.wallet.toCurrencyUnit(t.info.unfreeze_amount,r);case p:return"Reward";case u:default:return this.wallet.toCurrencyUnit(t.amount,r)}}getTxDateTime(e){return new Date(Number(e.timestamp))}getTxConfirmations(e){return this.latestBlock?this.latestBlock.number-e.block:Number(e.confirmed)}SHA256(e){const t=new a.default.sha256("SHA-256","HEX"),r=a.default.bytes.byteArray2hexStr(e);return t.update(r),t.getHash("HEX")}getTokenTransfers(e,t=10){return this.request(`token_trc20/transfers?limit=${t}&start=0&sort=-timestamp&count=false&relatedAddress=${e}`)}getTxFee(e){var t;return this.wallet.toCurrencyUnit((null==e||null===(t=e.cost)||void 0===t?void 0:t.fee)||this.wallet.feeDefault)}getTransaction(e,t,r,n,a,s){return new i.default({alias:this.wallet.alias,amount:r,confirmations:this.getTxConfirmations(t),datetime:this.getTxDateTime(t),direction:this.getTxDirection(e,t),fee:this.getTxFee(t),feeTicker:this.wallet.parent,memo:this.getTxMemo(t),name:s,otherSideAddress:this.getTxOtherSideAddress(e,t),ticker:n,txid:this.getTxHash(t),txType:this.getTransactionType(t),walletid:a})}getTransactionInfo(e){return this.request("transaction-info?hash="+e)}getTransactionType({contractType:e}){const t={freeze:[g],reward:[p,T],unstake:[f,m],vote:[d,h]};for(const r of Object.keys(t))if(t[r].includes(e))return r;return"regular"}async isFirstTransfer(e){const{token_transfers:t}=await this.getTokenTransfers(e,1);return!t.length}}var x=TronscanExplorer;t.default=x},3432:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20)),s=r(29),i=r(26);class QtumInfoExplorer extends a.default{getAllowedTickers(){return["QTUM"]}getInfoUrl(e){return`${this.getApiPrefix()}/address/${e}`}modifyInfoResponse(e){return{balance:e.balance,transactions:[]}}getTransactionsUrl(e){return`${this.getApiPrefix()}/address/${e}/basic-txs`}getTransactionsParams(e,t=0,r=this.defaultTxLimit){return{offset:t,limit:r,reversed:!0}}getTransactionUrl(e){return`${this.getApiPrefix()}/tx/${e}`}modifyTransactionsResponse(e){return Promise.all(e.transactions.map(async({id:e})=>this.getTransaction(e)))}getTxHash(e){return e.hash}getTxDirection(e,t){return t.inputs&&!t.inputs.find(({address:t})=>t===e)}getTxOtherSideAddress(e,t){if(!t.inputs)return"...";if(this.getTxDirection(e,t))return t.inputs[0].address;let r=new this.wallet.BN(0),n="...";return t.outputs.forEach(t=>{t.address!==e&&r.lt(new this.wallet.BN(t.value))&&(r=new this.wallet.BN(t.value),n=t.address)}),n}getTxValue(e,t){let r=new this.wallet.BN(0),n=new this.wallet.BN(0);if(!t.inputs||!t.outputs)return 0;t.inputs.forEach(t=>{t.address===e&&(r=r.add(new this.wallet.BN(t.value)))}),t.outputs.forEach(t=>{t.address===e&&(n=n.add(new this.wallet.BN(t.value)))});const a=r.sub(n),s=a.lt(new this.wallet.BN(0)),i=a.abs();return Number(this.wallet.toCurrencyUnit(s?i:i.sub(new this.wallet.BN(t.fees))))}getTxDateTime(e){return new Date(Number(e.timestamp+"000"))}getUnspentOutputsUrl(e){return`${this.getApiPrefix()}/address/${e}/utxo`}modifyUnspentOutputsResponse(e,t){return t.map(({transactionId:t,outputIndex:r,scriptPubKey:n,value:a})=>({txid:t,vout:r,address:e,script:n,satoshis:a,value:a}))}getSendTransactionUrl(){return this.getApiPrefix()+"/tx/send"}getSendTransactionParam(){return"rawtx"}modifySendTransactionResponse(e){if(1===e.status)throw new s.ExplorerRequestError({type:i.SEND_TRANSACTION_TYPE,error:new Error(e.message),instance:this});return{txid:e.id}}calculateBalance(e=[]){return e.reduce((e,{value:t})=>new this.wallet.BN(t).add(e),new this.wallet.BN("0"))}}var o=QtumInfoExplorer;t.default=o},347:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BtcLikeNodeMixin",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"CosmosNodeTransactionTypeMixin",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"HasBlockscannerMixin",{enumerable:!0,get:function(){return i.default}});var a=n(r(3621)),s=n(r(3622)),i=n(r(3623))},3612:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(35)),s=n(r(20));class PurestakeExplorer extends s.default{getAllowedTickers(){return["ALGO"]}getApiPrefix(){return"v1"}getInfoOptions(){return{headers:{"X-API-Key":"ce8957trNG66bHturR9CL85cNxXo9EWE3ddoJJmf"}}}getTransactionsOptions(){return this.getInfoOptions()}getTransactionOptions(){return this.getInfoOptions()}getLatestBlockOptions(){return this.getInfoOptions()}getSendOptions(){return this.getInfoOptions()}getInfoUrl(e){return`${this.getApiPrefix()}/account/${e}`}modifyInfoResponse(e){return{balance:new a.default(e&&e.amount).toString()}}getTransactionUrl(e){return`${this.getApiPrefix()}/transaction/${e}`}getTransactionsUrl(e){return`${this.getApiPrefix()}/account/${e}/transactions`}getTransactionsParams(e,t=0,r=this.defaultTxLimit){return{}}async getTransactions(e,t=0,r=this.defaultTxLimit){return this.latestBlock=await this.getLatestBlock(),super.getTransactions(e,t,r)}modifyTransactionsResponse(e,t){return super.modifyTransactionsResponse(e&&e.transactions,t)}getTxDirection(e,t){return t.payment.to===e}getTxOtherSideAddress(e,t){return this.getTxDirection(e,t)?t.from:t.payment.to}getTxValue(e,t){return Number(this.wallet.toCurrencyUnit(this.getTxDirection(e,t)?t.payment.amount:new this.wallet.BN(t.payment.amount).add(new this.wallet.BN(t.fee))))}getTxDateTime(e){return new Date(Number(e.timestamp+"000"))}getTxConfirmations(e){return this.latestBlock?this.latestBlock.lastRound-e.lastRound:1}async getBalance(e,t=!1){const r=await this.getInfo(e,t);return r&&r.balance}getSendTransactionUrl(){return this.getApiPrefix()+"/transactions"}getSendTransactionParams(e){return{RawTransaction:e}}getLatestBlockUrl(){return this.getApiPrefix()+"/status"}}var i=PurestakeExplorer;t.default=i},3613:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(35)),s=n(r(20));class PolkaScanExplorer extends s.default{getAllowedTickers(){return["DOT"]}getApiPrefix(){return"api"}getInfoUrl(e){return this.getApiPrefix()+"/scan/search"}getInfoMethod(){return"POST"}getInfoParams(e){return{key:e,page:0,row:1}}modifyInfoResponse(e){const t={balance:0,ring_lock:0,nonce:0};return e.data&&e.data.account&&(t.balance=new a.default(this.wallet.toMinimalUnit(e.data.account.balance)).sub(new a.default(this.wallet.toMinimalUnit(e.data.account.ring_lock))).toString(),t.ring_lock=e.data.account.ring_lock,t.nonce=e.data.account.nonce),{balance:t.balance,balances:{available:this.wallet.toCurrencyUnit(t.balance),staking:t.ring_lock},transactions:this.wallet.transactions,nonce:t.nonce}}getTransactionUrl(e){return this.getApiPrefix()+"/scan/extrinsic"}getTransactionMethod(){return"POST"}getTransactionParams(e){return{hash:e}}getTransactionsMethod(){return"POST"}getTransactionsUrl(e){return this.getApiPrefix()+"/scan/transfers"}getTransactionsParams(e,t=0,r=this.defaultTxLimit){return{address:e,page:t>this.defaultTxLimit?parseInt(t/this.defaultTxLimit,10):0,row:r}}modifyTransactionsResponse(e,t){var r;return null!=e&&null!==(r=e.data)&&void 0!==r&&r.transfers?super.modifyTransactionsResponse(e.data.transfers.filter(({success:e})=>e),t):[]}getTxHash(e){return e.hash}getTxDirection(e,t){return t.to===e}getTxOtherSideAddress(e,t){return this.getTxDirection(e,t)?t.from:t.to}getTxValue(e,t){return Number(t.amount)}getTxDateTime(e){return new Date(Number(e.block_timestamp+"000"))}getTxConfirmations(e){return Number(e.success)||0}getTxFee(e){return this.wallet.toCurrencyUnit(e&&e.fee||0)}}var i=PolkaScanExplorer;t.default=i},3614:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20)),s=n(r(55));class StackFundExplorer extends a.default{constructor(...e){super(...e),this.defaultTxLimit=7}getAllowedTickers(){return["ATOM"]}getTransactionUrl(e){return`${this.getApiPrefix()}/tx/${e}`}getTransactionsUrl(e){return`${this.getApiPrefix()}/address/${e}`}getTransactionsParams(e,t=0){return{page:t>this.defaultTxLimit?parseInt(t/this.defaultTxLimit,10):1}}modifyTransactionsResponse(e,t){return super.modifyTransactionsResponse(e.txs.filter(({msg:e})=>{try{const[{type:t}]=JSON.parse(Buffer.from(e,"base64").toString("ascii"));return!!t}catch(e){return!1}}),t)}getTxHash(e){return e.hash}getTxDateTime(e){return new Date(e.time)}getTxDirection(e,t){try{const[r]=JSON.parse(Buffer.from(t.msg,"base64").toString("ascii"));return"cosmos-sdk/MsgSend"===r.type&&e===r.value.to_address}catch(e){return void s.default.error({instance:this,error:e})}}getTxOtherSideAddress(e,t){try{const[r]=JSON.parse(Buffer.from(t.msg,"base64").toString("ascii"));return"cosmos-sdk/MsgSend"!==r.type?r.value.validator_address:this.getTxDirection(e,t)?r.value.from_address:r.value.to_address}catch(e){return s.default.error({instance:this,error:e}),"Parse Error"}}getTxValue(e,t){try{const[r]=JSON.parse(Buffer.from(t.msg,"base64").toString("ascii")),[n]=JSON.parse(Buffer.from(t.fees,"base64").toString("ascii"));let a="0";return r.value.amount&&(a=Array.isArray(r.value.amount)?r.value.amount[0].amount:r.value.amount.amount),Number(this.wallet.toCurrencyUnit(this.getTxDirection(e,t)?a:new this.wallet.BN(a).add(new this.wallet.BN(n.amount))))}catch(e){return s.default.error({instance:this,error:e}),0}}getTxMemo(e){return e.memo}getTxConfirmations(e){return 1}}var i=StackFundExplorer;t.default=i},3615:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20));class VergeNodeExplorer extends a.default{getAllowedTickers(){return["XVG"]}getSendTransactionUrl(){return this.config.baseUrl}getSendTransactionParams(e){return{method:"sendrawtransaction",params:[e]}}modifySendTransactionResponse(e){return{txid:e.result}}}var s=VergeNodeExplorer;t.default=s},3616:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20));class ViewblockExplorer extends a.default{constructor(...e){super(...e),this.defaultTxLimit=25,this.defaultRequestTimeout=4}getAllowedTickers(){return["ZIL"]}getWalletAddress(){return this.activeWalletAddress}getInfoUrl(e){return"/addresses/"+e}getTransactionsUrl(e){return`/addresses/${e}/txs`}getTransactionUrl(e){return"/txs/"+e}getInfoParams(){return{network:"mainnet",page:1,type:"all"}}getInfoOptions(){return{headers:{"X-APIKEY":"64e4ff5271a101d7e73f4ef8df119a01e578fb4215cca4a62e93282c87d67e53"}}}getTransactionsOptions(){return this.getInfoOptions()}getTransactionOptions(){return this.getInfoOptions()}getUtxoOptions(){return this.getInfoOptions()}getSendOptions(){return this.getInfoOptions()}getLatestBlockOptions(){return this.getInfoOptions()}modifyInfoResponse(e=[]){const t=e;return{balance:t.balance,nonce:t.nonce}}getTransactionsParams(e,t=0,r=this.defaultTxLimit){return{network:"mainnet",page:1+parseInt(t/r,10),type:"all"}}modifyTransactionsResponse(e,t){return super.modifyTransactionsResponse(e,t)}getTxHash(e){return e.hash}getTxDateTime(e){return new Date(Number(""+e.timestamp))}getTxDirection(e,t){return t.to===e}getTxOtherSideAddress(e,t){return this.getTxDirection(e,t)?t.from:t.to}getTxValue(e,t){return this.wallet.toCurrencyUnit(new this.wallet.BN(t.value))}getTxConfirmations(e){return 1}}var s=ViewblockExplorer;t.default=s},3617:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20));class WavesNodeExplorer extends a.default{getAllowedTickers(){return["WAVES"]}getWalletAddress(){return this.wallet.address}getInfoUrl(e){return"/addresses/balance/"+e}getInfoOptions(){return{transformResponse:[e=>JSON.parse(e.replace(/:(\d+)([,}])/g,':"$1"$2'))]}}modifyInfoResponse(e){return{balance:e.balance,transactions:this.wallet.transactions}}getTransactionUrl(e){return"/transactions/info/"+e}getTransactionsUrl(e){return`/transactions/address/${e}/limit/${this.defaultTxLimit}`}modifyTransactionsResponse(e,t){return super.modifyTransactionsResponse(e[0].filter(({assetId:e})=>null===e),t)}async getTransactions({address:e,offset:t=0,limit:r=this.defaultTxLimit}){return this.latestBlock=await this.getLatestBlock(),super.getTransactions({address:e,offset:t,limit:r})}getLatestBlockUrl(){return"/blocks/height"}getTxHash(e){return e.id}getTxDateTime(e){return new Date(Number(""+e.timestamp))}getTxDirection(e,t){return e===t.recipient}getTxOtherSideAddress(e,t){return this.getTxDirection(e,t)?t.sender:t.recipient}getTxValue(e,t){return Number(this.wallet.toCurrencyUnit(this.getTxDirection(e,t)?t.amount:new this.wallet.BN(t.amount).add(new this.wallet.BN(t.fee))))}getTxConfirmations(e){return this.latestBlock?this.latestBlock.height-e.height:Number(1)}getSendTransactionUrl(){return"/transactions/broadcast"}getSendTransactionParams(e){return JSON.parse(e)}modifySendTransactionResponse(e){return{txid:e.id}}getTxFee(e){return this.wallet.toCurrencyUnit(e&&e.fee||0)}}var s=WavesNodeExplorer;t.default=s},3621:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e=>class extends e{getSendTransactionUrl(){return this.config.baseUrl}getSendTransactionParams(e){return{method:"sendrawtransaction",params:[e]}}modifySendTransactionResponse(e){return{txid:e.result}}};t.default=n},3622:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e=>class extends e{getTransactionsModifiedResponse(e,t,r=this.wallet.ticker){return Object.assign({txType:this.getTransactionType(e)},super.getTransactionsModifiedResponse(e,t,r))}getTransactionNativeType(e){return(Array.isArray(null==e?void 0:e.messages)?e.messages:[]).map(({"@type":e})=>e.split(".").pop())[0]}getTransactionType(e){const t=this.getTransactionNativeType(e),r={MsgWithdrawDelegatorReward:"reward",MsgDelegate:"stake",MsgUndelegate:"unstake"};return void 0===r[t]?"transfer":r[t]}};t.default=n},3623:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(230));const s=["reward","unfreeze","freeze","vote"];var i=e=>class extends e{async getSocketTransaction({address:e,hash:t,tokens:r,type:n}){const i=await this.getTransaction(e,t,r);await a.default.filterAndUpdateTransactions([i]),"receive"===n&&this.eventEmmiter.emit(`${this.wallet.parent}-${i.walletid}::new-socket-tx`,{unconfirmedTx:i}),"confirm"===n&&this.eventEmmiter.emit(this.wallet.parent+"::confirmed-socket-tx",i.walletid,i,i.ticker),s.forEach(e=>{n===e&&this.eventEmmiter.emit(`${this.wallet.parent}::confirmed-${n}`,i||{})})}};t.default=i},3626:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(162),s=r(2305),i=r(1861),o=n(r(35)),c=n(r(57)),l=r(26),u=r(29),d=r(102),h=n(r(20)),g=n(r(230)),f=n(r(1402)),p=r(346);class SolanaNodeExplorer extends h.default{constructor({wallet:e,config:t}){super({wallet:e,config:t}),this.connection=new a.Connection(t.baseUrl),this.socket=void 0}setAxiosClient(){const{baseURL:e}=this.getInitParams();this.connection=new a.Connection(e)}setSocketClient(e){this.socket=new a.Connection(e)}getAllowedTickers(){return["SOL"]}async getInfo(e){const t=new a.PublicKey(e),r=await this.connection.getBalance(t,"finalized");return this.modifyInfoResponse(r)}modifyInfoResponse(e){return{balance:String(e)}}async getCurrentSigs(e,t="finalize"){return(await this.connection.getConfirmedSignaturesForAddress2(e,{},t)).map(({confirmationStatus:e,signature:r})=>{if(e===t)return r}).filter(Boolean)}async getLatestBlock(){return await this.connection.getRecentBlockhash()}modifyLatestBlockResponse(e){return e&&e.value}async sendTransaction({rawtx:e,signer:t}){return{txid:await this.connection.sendTransaction(e,[t])}}async sendRawTransaction(e){return{txid:await this.connection.sendRawTransaction(e)}}async getFee(){const e=await this.getLatestBlock(),t=await this.connection.getFeeCalculatorForBlockhash(e.blockhash),r=t&&t.value.lamportsPerSignature;return String(r)}getAccountInfo(e){return this.connection.getParsedAccountInfo(e)}getEpochInfo(){return this.connection.getEpochInfo("finalized")}getStakeProgramInfo(e){return this.connection.getParsedProgramAccounts(a.StakeProgram.programId,{commitment:"finalize",filters:[{memcmp:{bytes:e,offset:12}}]})}async getStakeAccountInfo(e){const t=await this.connection.getParsedAccountInfo(new a.PublicKey(e),"processed");return this.modifyStakeAccountInfo(t,e)}modifyStakeAccountInfo(e,t){return{account:e.value,pubkey:new a.PublicKey(t)}}async getStakingBalance(e){const t=await f.default.getAddrCache(this.wallet.ticker,l.STAKE_ADDR_TYPE);let r=[];t&&(r=t.map(({address:e})=>e));const n=r.length>0?await Promise.all(r.map(e=>this.getStakeAccountInfo(e))):await this.getStakeProgramInfo(e.address);(0===r.length&&n||e.ignoreCache)&&(r=n.map(({pubkey:e})=>{try{return e.toBase58()}catch{return e}}),f.default.setAddrCache({ticker:this.wallet.ticker,type:l.STAKE_ADDR_TYPE,addresses:r}));const{epoch:a}=await this.getEpochInfo(),s=n.map(e=>{if(!e.account)return void f.default._removeItem(e.pubkey.toBase58());if("delegated"!==e.account.data.parsed.type)return;const t=e.pubkey.toBase58(),r=e.account.lamports,n=e.account.data.parsed.info.stake.delegation.voter,s=Number.isSafeInteger(Number(e.account.data.parsed.info.stake.delegation.deactivationEpoch));return{accountAddress:t,staked:r,validator:n,isDeactivated:s,isAvailableForWithdraw:s&&Number(e.account.data.parsed.info.stake.delegation.deactivationEpoch)<a}}).filter(Boolean),i=s.reduce((e,t)=>e.add(new this.wallet.BN(t.staked)),new this.wallet.BN(0));return{staking:s,staked:i,total:s.reduce((e,t)=>e.add(new o.default(t.staked)),new o.default(0))}}getTxInstruction(e){const t={destination:"",source:"",lamports:0};return e.transaction.message.instructions.forEach(e=>{["transfer","createAccount","createAccountWithSeed","delegate","deactivate","withdraw"].includes(e.parsed.type)&&(t.destination=e.parsed.info.destination||e.parsed.info.voteAccount||e.parsed.info.stakeAccount,t.source=e.parsed.info.source||e.parsed.info.stakeAuthority||e.parsed.info.stakeAccount,e.parsed.info.lamports&&(t.lamports=e.parsed.info.lamports))}),t}getTxHash(e){return e.transaction.signatures[0]}getTxDirection(e,t){return this.getTxInstruction(t).destination===e}getTxOtherSideAddress(e,t){const{destination:r,source:n}=this.getTxInstruction(t);return r===e?n:r}getTxValue(e,t){return(0,d.toCurrency)(this.getTxInstruction(t).lamports,this.wallet.decimal)}getTxDateTime(e){return new Date(Number(e.blockTime+"000"))}getTxMemo(e){return""}async getTransactions({address:e}){const t=await this.getCurrentSigs(new a.PublicKey(e),"finalized"),r=await this.connection.getParsedConfirmedTransactions(t,"finalized");return this.modifyTransactionsResponse(r,e)}async getSpecifiedTransactions(e,t){const r=await this.connection.getParsedConfirmedTransactions(e,"confirmed");return this.modifyTransactionsResponse(r,t)}modifyTransactionResponse(e,t){return e.map(e=>new a.Transaction({ticker:this.wallet.ticker,name:this.wallet.name,alias:this.wallet.alias,walletid:this.wallet.id,explorer:this.constructor.name,txid:this.getTxHash(e),direction:this.getTxDirection(t,e),otherSideAddress:this.getTxOtherSideAddress(t,e),amount:this.getTxValue(t,e),datetime:this.getTxDateTime(e),memo:this.getTxMemo(e),confirmations:1}))}getMinRent(e=200){return this.connection.getMinimumBalanceForRentExemption(e)}async connectSocket(e){const{baseUrl:t,websocketUrl:r}=this.config;this.setSocketClient(r||t);const n=new a.PublicKey(e);this.socket&&(this.socket.onAccountChange(n,e=>this.processBalanceChangeEvent(e,n),"finalized"),this.socket.onAccountChange(n,e=>this.processTxsChangeEvent(e,n),"confirmed"))}async processTxsChangeEvent(e,t){const r=await this.getCurrentSigs(t,"confirmed"),n=await this.getSpecifiedTransactions(r,t.toBase58());await g.default.filterAndUpdateTransactions(n),n.forEach(e=>{e.direction&&this.eventEmmiter.emit(`${this.wallet.parent}-${this.wallet.id}::new-socket-tx`,{unconfirmedTx:e})})}processBalanceChangeEvent(e,t){this.eventEmmiter.emit(`update::${this.wallet.id}::balance`,e.lamports)}getTxFee(e){return this.wallet.toCurrencyUnit(e.meta&&e.meta.fee||0)}getTxConfirmations(){return 1}async fetchRawList(e){try{const t=await(0,i.resolveToWalletAddress)({text:e,connection:this.connection}),r=await(0,i.getParsedNftAccountsByOwner)({publicAddress:t,connection:this.connection}),n=[],a=r.map(({mint:e,data:{name:t,uri:r}})=>(n.push(r),{tokenId:e,name:t})),s=await Promise.allSettled(n.map(e=>c.default.get(e)));for(let e=0;e<a.length;e++){const t=a[e],{status:r,value:n,reason:i}=s[e];if("fulfilled"===r){const{data:{description:e,image:r}}=n;t.description=e,t.imageUrl=r}else console.warn(i)}return a}catch(e){throw console.warn(e),new u.ExternalError({type:l.EXTERNAL_ERROR,error:e,instance:this})}}async fetchNftList(e){const{address:t,ticker:r}=e;try{return(await this.fetchRawList(t)).map(({tokenId:e,name:t,description:n,imageUrl:a})=>new p.SOLNftToken(e,r,t,n,a))}catch(e){throw console.warn(e),new u.ExternalError({type:l.EXTERNAL_ERROR,error:e,instance:this})}}async sendNft(e,t,r,n,i,o){const c=a.Keypair.fromSecretKey(e.getPrivateKey()),d=new a.PublicKey(n),h=new a.PublicKey(t);try{const e=await(0,s.getOrCreateAssociatedTokenAccount)(this.connection,c,d,c.publicKey),t=await(0,s.getOrCreateAssociatedTokenAccount)(this.connection,c,d,h),r=(new a.Transaction).add((0,s.createTransferCheckedInstruction)(e.address,d,t.address,c.publicKey,1,0,[],s.TOKEN_PROGRAM_ID));return{tx:await this.connection.sendTransaction(r,[c])}}catch(e){throw console.warn(e),new u.ExternalError({type:l.EXTERNAL_ERROR,error:e,instance:this})}}makeNftInfoUrl(e,t){return`${(0,d.getStringWithEnsuredEndChar)(this.config.baseUrl,"/")}${t}`}}var m=SolanaNodeExplorer;t.default=m},3644:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20)),s=r(38),i=n(r(74)),o=r(102);class SolanaSurfExplorer extends a.default{getAllowedTickers(){return["SOL"]}getApiPrefix(){return"/v1"}getTransactionsMethod(){return"get"}getTransactionsUrl(e){return`${this.getApiPrefix()}/account/${e}/transactions`}getTransactionsParams(){return{}}getTransactionOptions(){return{}}async getTransactions({address:e,offset:t,limit:r,pageNum:n}){const a=await this.request(this.getTransactionsUrl(e),this.getTransactionsMethod(),this.getTransactionsParams(),s.GET_TRANSACTIONS_TYPE,this.getTransactionsOptions());return this.modifyTransactionsResponse(a,e)}modifyTransactionsResponse(e,t){return e.map(e=>{const r=this.getInstruction(e);return new i.default({ticker:this.wallet.ticker,name:this.wallet.name,alias:this.wallet.alias,walletid:this.wallet.id,explorer:this.constructor.name,txid:this.getTxHash(e),direction:this.getTxDirection(t,r),otherSideAddress:this.getTxOtherSideAddress(t,r),amount:this.getTxValue(t,r),datetime:this.getTxDateTime(e),memo:this.getTxMemo(e),confirmations:1})})}getInstruction(e){return e.instructions[0].parsed.Transfer}getTxHash(e){return e.transactionHash}getTxDirection(e,t){return t.account.address!==e}getTxOtherSideAddress(e,t){return t.recipient.address}getTxValue(e,t){return(0,o.toCurrency)(t.lamports,this.wallet.decimal)}getTxDateTime(e){return new Date(Number(e.blocktime.absolute+"000"))}}var c=SolanaSurfExplorer;t.default=c},3645:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(162),s=r(2305),i=r(1861),o=n(r(35)),c=n(r(57)),l=r(26),u=r(29),d=r(52),h=n(r(20)),g=n(r(230)),f=n(r(1402)),p=n(r(74)),m=r(102),T=r(346);const x={TRANSFER_COIN:{isMatch:e=>{const{transaction:{message:{instructions:[{program:t,parsed:{type:r}={}}]=[{}]}}={}}=e||{};return"system"===t&&"transfer"===r},parse:e=>{const{transaction:{message:{instructions:[{parsed:{info:{source:t,destination:r,lamports:n=0}}}]}}}=e;return{source:t,destination:r,isNft:!1,amount:n}}},TRANSFER_NFT:{isMatch:e=>{const{meta:{postTokenBalances:t=[]}={}}=e||{};return t.length>0},parse:e=>{const{meta:{postTokenBalances:t}}=e;return t.reduce((e,t)=>{const{owner:r,uiTokenAmount:{amount:n}}=t;switch(n){case"1":e.destination=r;break;case"0":e.source=r}return e},{source:"",destination:"",isNft:!0,amount:1})}}};class SolanaTritonExplorer extends h.default{constructor({wallet:e,config:t}){super({wallet:e,config:t});const r=(0,m.getStringWithEnsuredEndChar)(t.baseUrl,"/")+"ff2c5556-29f4-4ec0-8f4a-58a85f366aaf";this.connection=new a.Connection(r,{httpHeaders:{"Access-Control-Allow-Origin":"atomicwallet.io"}})}getAllowedTickers(){return["SOL"]}setSocketClient(e){this.socket=new a.Connection(e)}async getInfo(e){const t=new a.PublicKey(e),r=await this.connection.getBalance(t,"finalized");return{balance:String(r)}}getLatestBlock(){return this.connection.getRecentBlockhash()}async sendTransaction({rawtx:e,signer:t}){try{return{txid:await this.connection.sendTransaction(e,[t])}}catch(e){throw new u.ExternalError({type:l.EXTERNAL_ERROR,error:e,instance:this})}}async sendRawTransaction(e){try{return{txid:await this.connection.sendRawTransaction(e)}}catch(e){throw new u.ExternalError({type:l.EXTERNAL_ERROR,error:e,instance:this})}}async getFee(){try{const e=await this.getLatestBlock(),t=await this.connection.getFeeCalculatorForBlockhash(e.blockhash),r=t&&t.value.lamportsPerSignature;return String(r)}catch(e){throw new u.ExternalError({type:l.EXTERNAL_ERROR,error:e,instance:this})}}async getCurrentSigs(e,t="finalize"){return(await this.connection.getConfirmedSignaturesForAddress2(e,{},t)).map(({confirmationStatus:e,signature:r})=>{if(e===t)return r}).filter(Boolean)}getAccountInfo(e){return this.connection.getParsedAccountInfo(e)}getEpochInfo(){return this.connection.getEpochInfo("finalized")}getStakeProgramInfo(e){return this.connection.getParsedProgramAccounts(a.StakeProgram.programId,{commitment:"finalize",filters:[{memcmp:{bytes:e,offset:12}}]})}async getStakeAccountInfo(e){const t=await this.connection.getParsedAccountInfo(new a.PublicKey(e),"processed");return this.modifyStakeAccountInfo(t,e)}modifyStakeAccountInfo(e,t){return{account:e.value,pubkey:new a.PublicKey(t)}}async getStakingBalance(e){const t=await f.default.getAddrCache(this.wallet.ticker,l.STAKE_ADDR_TYPE);let r=[];t&&(r=t.map(({address:e})=>e));const n=r.length>0?await Promise.all(r.map(e=>this.getStakeAccountInfo(e))):await this.getStakeProgramInfo(e.address);(0===r.length&&n||e.ignoreCache)&&(r=n.map(({pubkey:e})=>{try{return e.toBase58()}catch{return e}}),f.default.setAddrCache({ticker:this.wallet.ticker,type:l.STAKE_ADDR_TYPE,addresses:r}));const{epoch:a}=await this.getEpochInfo(),s=n.map(e=>{if(!e.account)return void f.default._removeItem(e.pubkey.toBase58());if("delegated"!==e.account.data.parsed.type)return;const t=e.pubkey.toBase58(),r=e.account.lamports,n=e.account.data.parsed.info.stake.delegation.voter,s=Number.isSafeInteger(Number(e.account.data.parsed.info.stake.delegation.deactivationEpoch));return{accountAddress:t,staked:r,validator:n,isDeactivated:s,isAvailableForWithdraw:s&&Number(e.account.data.parsed.info.stake.delegation.deactivationEpoch)<a}}).filter(Boolean),i=s.reduce((e,t)=>e.add(new this.wallet.BN(t.staked)),new this.wallet.BN(0));return{staking:s,staked:i,total:s.reduce((e,t)=>e.add(new o.default(t.staked)),new o.default(0))}}getMinRent(e=200){return this.connection.getMinimumBalanceForRentExemption(e)}async connectSocket(e){const{baseUrl:t,websocketUrl:r}=this.config;this.setSocketClient(r||t);const n=new a.PublicKey(e);this.socket&&(this.socket.onAccountChange(n,e=>this.processBalanceChangeEvent(e,n),"finalized"),this.socket.onAccountChange(n,e=>this.processTxsChangeEvent(e,n),"confirmed"))}async processTxsChangeEvent(e,t){const r=await this.getCurrentSigs(t,"confirmed"),n=await this.getSpecifiedTransactions(r,t.toBase58());await g.default.filterAndUpdateTransactions(n),n.forEach(e=>{e.direction&&this.eventEmmiter.emit(`${this.wallet.parent}-${this.wallet.id}::new-socket-tx`,{unconfirmedTx:e})})}processBalanceChangeEvent(e,t){this.eventEmmiter.emit(`update::${this.wallet.id}::balance`,e.lamports)}getTxConfirmations(){return 1}async fetchTxSignaturesForChunk(e,t=500){try{return(await this.connection.getSignaturesForAddress(e,{limit:t},"finalized")).map(({signature:e})=>e)}catch(e){return console.warn(e),[]}}getTxInstruction(e){return Object.entries(x).reduce((t,[r,{isMatch:n,parse:a}])=>({...t,...n(e)?a(e):{}}),{destination:"",source:"",isNft:!1,amount:0})}getTxHash(e){return e.transaction.signatures[0]}getTxDateTime(e){return(0,m.convertSecondsToDateTime)(e.blockTime)}getTxMemo(e){return e.memo||""}getTxFee(e){var t;return this.wallet.toCurrencyUnit((null===(t=e.meta)||void 0===t?void 0:t.fee)||0)}async fetchTxsForChunk(e){try{return this.connection.getParsedConfirmedTransactions(e,"finalized")}catch(e){return console.warn(e),[]}}async getTransactions({address:e,limit:t=this.defaultTxLimit,pageNum:r=0}){const n=await this.fetchTxSignaturesForChunk(new a.PublicKey(e),t*(r+1)),s=await this.fetchTxsForChunk((0,d.chunkArray)(n,t)[r]||[]);return this.modifyTransactionsResponse(s,e)}modifyTransactionsResponse(e,t){return e.reduce((e,r,n)=>{try{const{destination:n,source:a,isNft:s,amount:i}=this.getTxInstruction(r);return e.push(new p.default({ticker:this.wallet.ticker,name:this.wallet.name,alias:this.wallet.alias,walletid:this.wallet.id,explorer:this.constructor.name,txid:this.getTxHash(r),direction:n===t,otherSideAddress:n===t?a:n,amount:s?"NFT":(0,m.toCurrency)(i,this.wallet.decimal),datetime:this.getTxDateTime(r),memo:this.getTxMemo(r),confirmations:this.getTxConfirmations(r),fee:this.getTxFee(r),feeTicker:this.getTxFeeTicker(),isNft:this.getTxInstruction(r).isNft})),e}catch(t){return console.warn("[SOL] tx parse failed"),console.error(t),e}},[])}async fetchRawList(e){try{const t=await(0,i.resolveToWalletAddress)({text:e,connection:this.connection}),r=await(0,i.getParsedNftAccountsByOwner)({publicAddress:t,connection:this.connection}),n=[],a=r.map(({mint:e,data:{name:t,uri:r}})=>(n.push(r),{tokenId:e,name:t})),s=await Promise.allSettled(n.map(e=>c.default.get(e)));for(let e=0;e<a.length;e++){const t=a[e],{status:r,value:n,reason:i}=s[e];if("fulfilled"===r){const{data:{description:e,image:r}}=n;t.description=e,t.imageUrl=r}else console.warn(i)}return a}catch(e){throw console.warn(e),new u.ExternalError({type:l.EXTERNAL_ERROR,error:e,instance:this})}}async fetchNftList(e){const{address:t,ticker:r}=e;try{return(await this.fetchRawList(t)).map(({tokenId:e,name:t,description:n,imageUrl:a})=>new T.SOLNftToken(e,r,t,n,a))}catch(e){throw console.warn(e),new u.ExternalError({type:l.EXTERNAL_ERROR,error:e,instance:this})}}async sendNft(e,t,r,n,i,o){const c=a.Keypair.fromSecretKey(e.getPrivateKey()),d=new a.PublicKey(n),h=new a.PublicKey(t);try{const e=await(0,s.getOrCreateAssociatedTokenAccount)(this.connection,c,d,c.publicKey),t=await(0,s.getOrCreateAssociatedTokenAccount)(this.connection,c,d,h),r=(new a.Transaction).add((0,s.createTransferCheckedInstruction)(e.address,d,t.address,c.publicKey,1,0,[],s.TOKEN_PROGRAM_ID));return{tx:await this.connection.sendTransaction(r,[c])}}catch(e){throw console.warn(e),new u.ExternalError({type:l.EXTERNAL_ERROR,error:e,instance:this})}}makeNftInfoUrl(e,t){return`${(0,m.getStringWithEnsuredEndChar)(this.config.baseUrl,"/")}${t}`}}var w=SolanaTritonExplorer;t.default=w},3650:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(1403),s=r(628),i=r(507),o=n(r(3669)),c=r(29),l=r(26),u=n(r(1868));class ZilliqaNodeExplorer extends u.default{constructor(...e){super(...e),this.zilliqa=new a.Zilliqa(this.config.baseUrl)}async sendTransaction({rawtx:e,privateKey:t}){const r=new s.Transaction(e);let n;try{this.zilliqa.wallet.addByPrivateKey(t);const e=await this.zilliqa.wallet.sign(r);e.amount=e.amount.toString(),e.gasLimit=e.gasLimit.toString(),e.gasPrice=e.gasPrice.toString(),n=await this.request(this.config.baseUrl,"POST",{id:"atomic",jsonrpc:"2.0",method:i.RPCMethod.CreateTransaction,params:[{...e.txParams,priority:e.toDS}]},l.GET_BALANCE_TYPE)}catch(e){throw new c.ExplorerRequestError({type:l.SEND_TRANSACTION_TYPE,error:new Error(e.message),instance:this})}if(void 0!==n.error)throw new c.ExplorerRequestError({type:l.SEND_TRANSACTION_TYPE,error:new Error(n.error.message),instance:this});return{txid:n.result.TranID}}async getBalance(e,t){const{balance:r,nonce:n=0}=await this.getInfo(this.toValidChecksumAddress(e)).catch(e=>console.warn(e))||{};return{balance:r,nonce:Number(n)}}async getStakingBalance(e,t){const r=this.toValidChecksumAddress(t);return{staking:await this.getStakedAmountFromContract(e,r),withdrawals:await this.getWithdrawalsFromContract(e,r)}}async getRewards(e,t,r){const n=this.toValidChecksumAddress(t);return await this.getRewardsFromContract(e,n,r)||{total:"0"}}async getTokenBalance(e,t){const r=t.map(async t=>{if(!t)return null;const r="0x"+this.toValidChecksumAddress(e),n=await this.request(this.config.baseUrl,"POST",{id:"atomic",jsonrpc:"2.0",method:i.RPCMethod.GetSmartContractSubState,params:[this.toValidChecksumAddress(t),"balances",[r]]},l.GET_BALANCE_TYPE);return{contract:t,balance:n&&n.result&&n.result.balances[r]}}).filter(Boolean);return Promise.all(r)}getInfoUrl(e){return""}getInfoMethod(){return"POST"}getInfoParams(e){return{id:"atomic",jsonrpc:"2.0",method:i.RPCMethod.GetBalance,params:[e]}}async getRewardsFromContract(e,t,{validators:r}){const n=new o.default(this.config.baseUrl,t),a="0x"+this.toValidChecksumAddress(e),s=Object.keys(r);if(0===s.length)return;const i={total:"0",validators:{}};for(let e=0;e<s.length;e+=1){const t=s[e],r=await n.getRewards(t,a);i.total=new this.wallet.BN(i.total).add(r).toString(),i.validators[t]=r.toString()}return i.total=i.total.toString(),i}async getStakedAmountFromContract(e,t){const r="0x"+this.toValidChecksumAddress(e),n=await this.request(this.config.baseUrl,"POST",{id:"atomic",jsonrpc:"2.0",method:i.RPCMethod.GetSmartContractSubState,params:[t,"deposit_amt_deleg",[r]]},l.GET_BALANCE_TYPE),a=await this.request(this.config.baseUrl,"POST",{id:"atomic",jsonrpc:"2.0",method:i.RPCMethod.GetSmartContractSubState,params:[t,"buff_deposit_deleg",[r]]},l.GET_BALANCE_TYPE),{deposit_amt_deleg:s={}}=n&&n.result||{},{buff_deposit_deleg:o={}}=a&&a.result||{};return Object.keys(s[r]||{}).reduce((e,t)=>(e.validators[t]={address:this.getBech32Address(t),amount:s[r][t],buffered:!!(Object.keys(o).length>0&&o[r][t])&&Object.keys(o[r][t]).length>0},e.total=new this.wallet.BN(e.total).add(new this.wallet.BN(s[r][t])).toString(),e),{validators:{},total:"0"})}async getWithdrawalsFromContract(e,t){const r="0x"+this.toValidChecksumAddress(e),{CurrentMiniEpoch:n}=await this.getBlockchainInfo(),a=await this.request(this.config.baseUrl,"POST",{id:"atomic",jsonrpc:"2.0",method:i.RPCMethod.GetSmartContractSubState,params:[t,"withdrawal_pending",[r]]},l.GET_BALANCE_TYPE),{withdrawal_pending:s={}}=a&&a.result||{},o={availableWithdrawal:{total:"0"},pendingWithdrawal:{total:"0"}};if(!s[r])return{...o,total:"0"};Object.keys(s[r]||{}).forEach(e=>{const t=Number(n)-Number(e),a=s[r][e];t<30800?(o.pendingWithdrawal[e]=a,o.pendingWithdrawal.total=new this.wallet.BN(o.pendingWithdrawal.total).add(new this.wallet.BN(a)).toString()):(o.availableWithdrawal[e]=a,o.availableWithdrawal.total=new this.wallet.BN(o.availableWithdrawal.total).add(new this.wallet.BN(a)).toString())});const c=Object.keys(s[r]||{}).reduce((e,t)=>e=new this.wallet.BN(e).add(new this.wallet.BN(s[r][t])).toString(),"0");return{...o,total:c}}async getBlockchainInfo(){const{result:e}=await this.request(this.config.baseUrl,"POST",{id:"atomic",jsonrpc:"2.0",method:i.RPCMethod.GetBlockchainInfo,params:[]},l.GET_BALANCE_TYPE);return e}modifyInfoResponse(e){const{result:t,error:r}=e;if(r)throw new c.ExplorerRequestError({type:l.GET_BALANCE_TYPE,error:new Error(`[${this.wallet.ticker}] modifyInfoResponse error: ${JSON.stringify(r)}`),instance:this});const{balance:n,nonce:a=0}=t;return{balance:n,nonce:a}}}var d=ZilliqaNodeExplorer;t.default=d},3670:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(377),s=n(r(1868));class ZilliqaAtomicExplorer extends s.default{async getTransactions(e){try{return await super.getTransactions(e)}catch(e){var t,r,n;if("Transactions not found"===(null==e||null===(t=e.errorData)||void 0===t||null===(r=t.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error))return[];throw e}}getTransactionsModifiedResponse(e,t,r=this.wallet.ticker){return Object.assign({txType:this.getTxType(e)},super.getTransactionsModifiedResponse(e,t,r))}getTransactionsParams(e,t=0,r=this.defaultTxLimit){return{address:e,limit:r,offset:t}}getTransactionsUrl(e){return"transactions"}getTransactionParams(e){return{txId:e}}getTransactionUrl(e){return"transaction"}getTxDateTime(e){return new Date(e.timestamp)}getTxDirection(e,t){return t.toAddr===this.getValidChecksumAddress(e)}getTxHash(e){return e.txId}getTxOtherSideAddress(e,t){return this.getBech32Address(this.getTxDirection(e,t)?t.fromAddr:t.toAddr)}getTxType(e){switch(e.operation){case"Claim rewards":return a.TxTypes.CLAIM;case"Stake":return a.TxTypes.STAKE;case"Unstake":return a.TxTypes.UNSTAKE;case"Withdraw stake":return a.TxTypes.WITHDRAW;default:return a.TxTypes.TRANSFER}}getTxValue(e,t){return this.wallet.toCurrencyUnit(new this.wallet.BN(t.amount))}getTxConfirmations(e){return null!=e&&e.isConfirmed?1:0}}var i=ZilliqaAtomicExplorer;t.default=i},3671:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20)),s=n(r(2359)),i=r(29),o=r(26);const c=new s.default(()=>Promise.all([r.e(3),r.e(13),r.e(12),r.e(11),r.e(14),r.e(5),r.e(6),r.e(16),r.e(8),r.e(9),r.e(17),r.e(15),r.e(10),r.e(7),r.e(2),r.e(1),r.e(0),r.e(24),r.e(23)]).then(r.t.bind(null,5381,7)));class PolkadotNodeExplorer extends a.default{constructor(...e){super(...e),this.endpoint=null}async loadEndpoint(){if(!this.endpoint){const e=new(await c.get("WsProvider"))(this.config.baseUrl),t=await c.get("ApiPromise");this.endpoint=await t.create({provider:e})}return!0}getAllowedTickers(){return["DOT"]}async getInfo(e){if(!e)return{};await this.loadEndpoint();const{nonce:t,data:r}=await this.endpoint.query.system.account(e);return{balance:r.free.sub(r.miscFrozen).toString(),balances:{available:r.free.sub(r.miscFrozen).toString(),free:r.free.toString(),frozen:r.miscFrozen.toString()},transactions:this.wallet.transactions,nonce:t.toString()}}async sendTransaction({rawtx:e,privateKey:t}){await this.loadEndpoint();return{txid:(await this.endpoint.rpc.author.submitExtrinsic(e)).toHex()}}async sendDelegationTransaction({rawtx:e,privateKey:t}){await this.loadEndpoint();const r=new(await c.get("Keyring"))({type:"sr25519"}),n=Buffer.from(t,"hex"),a=r.addFromSeed(n),s=this.endpoint.tx.staking.bond(a.publicKey,Number(e.amount),e.rewardDestination);try{return new Promise(t=>{s.signAndSend(a,async({events:r=[],status:n})=>{if(n.isInBlock)try{const r=this.endpoint.tx.staking.nominate(e.validatorAddresses),n=await r.signAndSend(a);return t({txid:n.toString("hex")})}catch(e){throw new i.ExplorerRequestError({type:o.SEND_TRANSACTION_TYPE,error:new Error(e.message),instance:this})}})})}catch(e){throw new i.ExplorerRequestError({type:o.SEND_TRANSACTION_TYPE,error:new Error(e.message),instance:this})}}async sendUnDelegationTransaction({rawtx:e,privateKey:t}){await this.loadEndpoint();const r=new(await c.get("Keyring"))({type:"sr25519"}),n=Buffer.from(t,"hex"),a=r.addFromSeed(n);try{const t=this.endpoint.tx.staking.unbond(Number(e.amount));return{txid:(await t.signAndSend(a)).toString("hex")}}catch(e){throw new i.ExplorerRequestError({type:o.SEND_TRANSACTION_TYPE,error:new Error(e.message),instance:this})}}}var l=PolkadotNodeExplorer;t.default=l},3672:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20));class PolkadotSidecarExplorer extends a.default{getAllowedTickers(){return["DOT"]}getInfoUrl(e){return`accounts/${e}/balance-info`}getLatestBlockUrl(){return"blocks/head"}getSendTransactionUrl(){return"transaction"}getSendTransactionParam(){return"tx"}getTxMetaUrl(){return"transaction/material"}getTxMetaMethod(){return super.getInfoMethod()}getTxMetaParams(){return{noMeta:!1}}getTxMeta(){return this.request(this.getTxMetaUrl(),this.getTxMetaMethod(),this.getTxMetaParams())}async sendTransaction({rawtx:e}){return super.sendTransaction(e)}modifyInfoResponse(e){if(!e)return{};const{free:t,miscFrozen:r,nonce:n}=e,a=new this.wallet.BN(t).sub(new this.wallet.BN(r)).toString();return{balance:a,balances:{available:this.wallet.toCurrencyUnit(a),free:t,frozen:r},nonce:n}}modifySendTransactionResponse(e){return{txid:e.hash}}}var s=PolkadotSidecarExplorer;t.default=s},3673:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20)),s=n(r(74)),i=r(26);class VergeInsightExplorer extends a.default{constructor(...e){super(...e),this.canPaginate=!0}getAllowedTickers(){return["XVG"]}getApiPrefix(){return"api/XVG/mainnet/"}getInfoUrl(e){return`${this.getApiPrefix()}address/${e}/balance`}modifyInfoResponse(e){return{balance:e.confirmed}}getTransactionUrl(e){return`${this.getApiPrefix()}tx/${e}/coins`}getTransactionsUrl(e){return`${this.getApiPrefix()}address/${e}/txs`}getTransactionsParams(e,t,r,n){return{pageNum:n}}modifyTransactionsResponse(e,t,r){return t.map(e=>{const t=this.getTxDirection(r,e);return new s.default({ticker:this.wallet.ticker,name:this.wallet.name,walletid:this.wallet.id,txid:this.getTxHash(e),direction:t,otherSideAddress:this.getTxOtherSideAddress(r,e,t),amount:this.getTxValue(r,e,t),datetime:this.getTxDateTime(e),alias:this.wallet.alias})})}getUnspentOutputsUrl(e){return`${this.getApiPrefix()}address/${e}`}getUnspentOutputsParams(){return{unspent:!0}}modifyUnspentOutputsResponse(e,t){return t.map(({value:e,script:t,mintTxid:r,mintIndex:n,address:a})=>({satoshis:e,value:e,script:t,txid:r,vout:n,address:a}))}getSendTransactionUrl(){return this.getApiPrefix()+"tx/send"}getSendTransactionParam(){return"rawTx"}getTxDateTime(e){return new Date(e.blockTimeNormalized)}getTxValue(e,t,r){const n=r?t=>t.address===e:t=>t.address!==e,a=t.outputs.filter(n).reduce((e,t)=>e.add(new this.wallet.BN(t.value)),new this.wallet.BN(0));return this.wallet.toCurrencyUnit(a)}getTxDirection(e,t){return t.inputs.every(t=>t.address!==e)}getTxOtherSideAddress(e,t,r){if(r)return t.inputs[0].address;const n=t.outputs.find(t=>t.address!==e);return(null==n?void 0:n.address)||e}calculateBalance(e=[]){return e.reduce((e,{value:t})=>new this.wallet.BN(t).add(e),new this.wallet.BN("0"))}modifyTransactionResponse(e,t){const r=this.getTxDirection(t,e);return new s.default({ticker:this.wallet.ticker,name:this.wallet.name,walletid:this.wallet.id,txid:this.getTxHash(e),fee:this.getTxFee(e),feeTicker:this.wallet.parent,direction:r,otherSideAddress:this.getTxOtherSideAddress(t,e,r),amount:this.getTxValue(t,e,r),datetime:this.getTxDateTime(e),confirmations:this.getTxConfirmations(e),alias:this.wallet.alias})}getTxFee(e){return this.wallet.toCurrencyUnit((null==e?void 0:e.fee)||this.wallet.feeDefault||0)}getTxConfirmations(e){return e.confirmations}getTxHash(e){return e.txid}async getTransactionCoins(e){return this.request(`${this.getApiPrefix()}tx/${e}/coins`)}async getTransaction(e){return this.request(`${this.getApiPrefix()}tx/${e}`)}async getTransactions({address:e,offset:t=0,limit:r=this.defaultTxLimit,pageNum:n}){const a=await this.request(this.getTransactionsUrl(e),this.getTransactionsMethod(),this.getTransactionsParams(e,t||0,r||this.defaultTxLimit,n),i.GET_TRANSACTIONS_TYPE,this.getTransactionsOptions()),s=[];return a.forEach(e=>{e.mintTxid&&-1===s.findIndex(t=>t===e.mintTxid)&&s.push(e.mintTxid),e.spentTxid&&-1===s.findIndex(t=>t===e.spentTxid)&&s.push(e.spentTxid)}),Promise.all(s.map(async t=>{const r=await this.getTransaction(t),n=await this.getTransactionCoins(t);return this.modifyTransactionResponse({txid:t,...r,...n},e)}))}}var o=VergeInsightExplorer;t.default=o},3674:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(347),s=n(r(1726));class VetNodeWithBlockscannerExplorer extends((0,a.HasBlockscannerMixin)(s.default)){}var i=VetNodeWithBlockscannerExplorer;t.default=i},3675:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(347),s=n(r(1834));class TronNodeWithBlockscannerExplorer extends((0,a.HasBlockscannerMixin)(s.default)){}var i=TronNodeWithBlockscannerExplorer;t.default=i},3676:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(347),s=n(r(1857));class TezosNodeWithBlockscannerExplorer extends((0,a.HasBlockscannerMixin)(s.default)){}var i=TezosNodeWithBlockscannerExplorer;t.default=i},3677:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(347),s=n(r(1859));class CosmosNodeWithBlockscannerExplorer extends((0,a.HasBlockscannerMixin)(s.default)){}var i=CosmosNodeWithBlockscannerExplorer;t.default=i},3678:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(347),s=n(r(1866));class BlockbookV2WithBlockscannerExplorer extends((0,a.HasBlockscannerMixin)(s.default)){}var i=BlockbookV2WithBlockscannerExplorer;t.default=i},3716:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(151)),s=n(r(53)),i=n(r(20)),o=n(r(55)),c=r(377),l=r(1835);class SnowTraceExplorer extends i.default{constructor(...e){super(...e),(0,a.default)(this,"getGasPrice",s.default.throttle(this._getGasPrice,1e3))}getAllowedTickers(){return["AVAX"]}async getTransactions(...e){try{return super.getTransactions(...e)}catch(e){return o.default.error({instance:this,error:this.wallet.ticker+": failed to load transactions"}),[]}}getTransactionsUrl(){return""}getTransactionsParams(e){return{module:"account",action:"txlist",address:e.toLowerCase()}}getIsNftTx(e){var t;return(null!==(t=e.functionName)&&void 0!==t?t:"").includes("safeTransferFrom")}modifyTransactionsResponse(e,t){const r=e.result.filter(e=>"1"!==e.isError);return super.modifyTransactionsResponse(r,t)}getTxHash(e){return e.hash}getTxDirection(e,t){return e.toLowerCase()===t.to}getTxOtherSideAddress(e,t){const r=!this.getTxDirection(e,t);if(this.getIsNftTx(t)&&r){var n;const{params:{to:e}}=null!==(n=this.decodeInput(t.input))&&void 0!==n?n:{params:{}};return e?e.toLowerCase():t.to}return r?t.to:t.from}getTxValue(e,t){return this.getIsNftTx(t)?"NFT":this.wallet.toCurrencyUnit(t.value)}getTxDateTime(e){return new Date(1e3*Number(e.timeStamp))}getTxMemo(e){return e.memo}getTxNonce(e){return e.nonce}getTxFee(e){return this.wallet.toCurrencyUnit(new this.wallet.BN(e.gasUsed).mul(new this.wallet.BN(e.gasPrice)))}getTxFeeTicker(){return this.wallet.ticker}getTxType(e){return this.getIsNftTx(e)?c.TxTypes.TRANSFERNFT:c.TxTypes.TRANSFER}getTransactionsModifiedResponse(e,t){return{ticker:this.wallet.ticker,name:this.wallet.name,walletid:this.wallet.id,txid:this.getTxHash(e),direction:this.getTxDirection(t,e),otherSideAddress:this.getTxOtherSideAddress(t,e),amount:this.getTxValue(t,e),datetime:this.getTxDateTime(e),memo:this.getTxMemo(e),confirmations:this.getTxConfirmations(e),nonce:this.getTxNonce(e),alias:this.wallet.alias,fee:this.getTxFee(e),feeTicker:this.getTxFeeTicker(),txType:this.getTxType(e),isNft:this.getIsNftTx(e)}}async _getGasPrice(){try{const e=await this.request("https://gavax.blockscan.com/gasapi.ashx","get",{method:"gasoracle",apikey:"key"});return{fastest:e.result.FastGasPrice,fast:e.result.ProposeGasPrice,safeLow:e.result.SafeGasPrice}}catch(e){return o.default.error({instance:this,error:this.wallet.ticker+": failed to get gas prices"}),{}}}decodeInput(e){try{if(this.wallet.coreLibrary.utils.isHex(e)){try{return this.wallet.coreLibrary.utils.hexToString(e)}catch(e){}const t=4,r=Buffer.from(e.replace(/^0x/,""),"hex"),n="0x"+r.slice(0,t).toString("hex"),a=r.slice(t),s={method:null,params:{}};return l.erc721Abi.forEach(e=>{try{const t=this.wallet.coreLibrary.eth.abi.encodeFunctionSignature(e),r=e.inputs?e.inputs.map(e=>e.type):[],i=e.inputs?e.inputs.map(e=>e.name):[];if(n===t){const t=this.wallet.coreLibrary.eth.abi.decodeParameters(r,"0x"+a.toString("hex"));s.method=e.name;for(const e in t)void 0!==t[e]&&(s.params[i[e]]=t[e])}}catch(e){return null}return null}),s}}catch(e){}return null}}var u=SnowTraceExplorer;t.default=u},3717:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(1392),s=n(r(20));class TerraLCDExplorer extends s.default{constructor({wallet:e,config:t}){var r;super(...arguments),this.lcdClient=new a.LCDClient({chainID:(null===(r=t.options)||void 0===r?void 0:r.chainID)||"phoenix-1",URL:t.baseUrl||"https://terra20-lcd.atomicwallet.io",isClassic:!1})}getAllowedTickers(){return["LUNA","LUNC"]}async getBalance(e,t,r=this.wallet.denom){var n;return(null===(n=(await this.lcdClient.bank.balance(e))[0].get(r))||void 0===n?void 0:n.amount.toString())||"0"}waitForTx(e){return new Promise(t=>{let r,n=4;const a=setInterval(async()=>{n-=1;try{r=await this.wallet.coreLibrary.tx.txInfo(e),0===r.code&&(clearInterval(a),t(r))}catch(e){console.warn(this.wallet.ticker+" can't find tx!")}n||(clearInterval(a),t(null))},4e3)})}async sendTransaction(e){return{txid:(await this.lcdClient.tx.broadcastSync(e)).txhash}}async estimateFee(e,t){return this.lcdClient.tx.estimateFee(e,t)}async calculateTax(e){return this.lcdClient.utils.calculateTax(e)}getAccountInfo(e){return this.lcdClient.auth.accountInfo(e)}async getValidators(e){return this.lcdClient.staking.bondedValidators(e)}async getStakingInfo(e){return{validators:await this.getValidators(e)}}async getStakedDelegations(e){const[t]=await this.lcdClient.staking.delegations(e);return t}async getRewardsBalance(e){return this.lcdClient.distribution.rewards(e)}async getUnbondingDelegations(e){const[t]=await this.lcdClient.staking.unbondingDelegations(e);return t}getLcdWallet(e){return this.lcdClient.wallet(e)}}t.default=TerraLCDExplorer},377:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TxTypes",{enumerable:!0,get:function(){return a.default}});var a=n(r(959))},3917:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20)),s=r(959);class TerraFCDExplorer extends a.default{constructor(...e){super(...e),this.network="mainnet"}getAllowedTickers(){return["LUNA"]}async getGasPrices(){return await this.request("/v1/txs/gas_prices","GET")}getTransactionsUrl(){return"/v1/txs"}getTransactionsParams(e,t,r){return{account:e,offset:t,limit:r}}modifyLatestBlockResponse(e){return e.height}getTxDenom(e){var t;return null===(t=e.tx)||void 0===t?void 0:t.body.messages[0].amount.amount}getTxCoins(e,t){var r,n,a;if(this.getTxType(t)===s.COSMOS_MSG_TO_TYPE.MsgWithdrawDelegatorReward){return{denom:"uluna",amount:t.logs.reduce((t,r)=>{var n;const a=null===(n=r.events)||void 0===n?void 0:n.find(t=>"coin_received"===t.type&&t.attributes.find(({key:t,value:r})=>"receiver"===t&&r===e));if(a){var s,i;const e=null===(s=a.attributes)||void 0===s||null===(i=s.find(({key:e})=>"amount"===e))||void 0===i?void 0:i.value;if(e){const r=/(\d*)uluna/.exec(e);null!==r&&(t+=BigInt(r[1]))}}return t},0n).toString()}}const i=null===(r=t.tx)||void 0===r||null===(n=r.body)||void 0===n||null===(a=n.messages[0])||void 0===a?void 0:a.amount;return Array.isArray(i)?i.find(({denom:e})=>["uluna"].includes(e)):i}modifyTransactionsResponse(e,t){return e.txs.reduce((e,r)=>{try{e.push(this.getTransactionModifiedResponse(r,t))}catch(e){console.error(e)}return e},[])}getTxType(e){var t,r;const n=(Array.isArray(null===(t=e.tx)||void 0===t?void 0:t.body.messages)?null===(r=e.tx)||void 0===r?void 0:r.body.messages:[]).map(({"@type":e})=>e.split(".").pop())[0];if(void 0===s.COSMOS_MSG_TO_TYPE[n])throw new Error(`[LUNA] txType ${n} not found`);return s.COSMOS_MSG_TO_TYPE[n]}getTxConfirmations(){return 1}getTxDateTime(e){return new Date(e.timestamp)}getTxHash(e){return e.txhash}getTxDirection(e,t){switch(this.getTxType(t)){case s.COSMOS_MSG_TO_TYPE.MsgDelegate:return!1;case s.COSMOS_MSG_TO_TYPE.MsgUndelegate:case s.COSMOS_MSG_TO_TYPE.MsgWithdrawDelegatorReward:return!0;default:{var r;const{to_address:n}=null===(r=t.tx)||void 0===r?void 0:r.body.messages[0];return n===e}}}getTxOtherSideAddress(e,t){var r;const n=this.getTxType(t),{validator_address:a,from_address:i,to_address:o}=null===(r=t.tx)||void 0===r?void 0:r.body.messages[0];switch(n){case s.COSMOS_MSG_TO_TYPE.MsgDelegate:case s.COSMOS_MSG_TO_TYPE.MsgUndelegate:case s.COSMOS_MSG_TO_TYPE.MsgWithdrawDelegatorReward:return a;default:return this.getTxDirection(e,t)?i:o}}getTxValue(e,t){const r=this.getTxCoins(e,t);return this.wallet.toCurrencyUnit(r.amount)}getTxFee(e){return this.wallet.toCurrencyUnit(e.tx.auth_info.fee.amount[0].amount)}getTxFeeTicker(){return this.wallet.ticker}getTxMemo(e){return e.tx.body.memo}}t.default=TerraFCDExplorer},3918:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(55)),s=n(r(20));const i={MsgWithdrawDelegationReward:"reward",MsgDelegate:"stake",MsgUndelegate:"unstake",MsgSend:"transfer"};class TerraClassicFCDExplorer extends s.default{constructor(...e){super(...e),this.network="classic"}getAllowedTickers(){return["LUNC"]}getTransactionsUrl(){return"/v1/txs"}getTransactionsParams(e,t,r){return{account:e,offset:t,limit:r}}modifyLatestBlockResponse(e){return e.height}getLatestBlockUrl(){return"/oracle/denoms/actives"}getGasPrices(){return this.request("/v1/txs/gas_prices","GET")}getCosmosTxType(e){}getTxType(e){var t,r,n,a;const s=(Array.isArray(null===(t=e.tx)||void 0===t||null===(r=t.value)||void 0===r?void 0:r.msg)?null===(n=e.tx)||void 0===n||null===(a=n.value)||void 0===a?void 0:a.msg:[]).map(({type:e})=>e.split("/").pop())[0];if(void 0===i[s])throw new Error(`[LUNC] txType ${s} not found`);return i[s]}getTxDenom(e){return e.tx.value.msg[0].value}getTxCoins(e,t){var r,n,a,s;if("reward"===this.getTxType(t)){return{denom:"uluna",amount:t.logs.reduce((t,r)=>{var n;const a=null===(n=r.events)||void 0===n?void 0:n.find(t=>"coin_received"===t.type&&t.attributes.find(({key:t,value:r})=>"receiver"===t&&r===e));if(a){var s,i;const e=null===(s=a.attributes)||void 0===s||null===(i=s.find(({key:e})=>"amount"===e))||void 0===i?void 0:i.value;if(e){const r=/(\d*)uluna/.exec(e);null!==r&&(t+=BigInt(r[1]))}}return t},0n).toString()}}let i=null===(r=t.tx)||void 0===r||null===(n=r.value)||void 0===n||null===(a=n.msg[0])||void 0===a||null===(s=a.value)||void 0===s?void 0:s.amount;return Array.isArray(i)&&(i=i.find(({denom:e})=>["uluna","uusd"].includes(e))),i}getTxAssetId(e){if(e===this.wallet.ticker)return this.wallet.id;const t=this.wallet.tokens(),r=Object.keys(t).find(r=>{var n;return(null===(n=t[r])||void 0===n?void 0:n.ticker)===e});return r?t[r].id:null}getTxDirection(e,t){switch(this.getTxType(t)){case"stake":return!1;case"unstake":case"reward":return!0;default:{const{to_address:r}=t.tx.value.msg[0].value;return r===e}}}getTxOtherSideAddress(e,t){const r=this.getTxType(t),{validator_address:n,from_address:a,to_address:s}=t.tx.value.msg[0].value;switch(r){case"stake":case"unstake":case"reward":return n;default:return this.getTxDirection(e,t)?a:s}}getTxFee(e){var t;return this.wallet.toCurrencyUnit(null===(t=e.tx.value.fee.amount[0])||void 0===t?void 0:t.amount)}getTickerFromDenom(e){return e?"uluna"===e?"LUNC":"uusd"===e?"USTC":e:""}async modifyTransactionsResponse({txs:e},t){if(!Array.isArray(e))return[];let r;try{r=await this.getLatestBlock()}catch(e){return a.default.error({error:e,instance:this.wallet}),console.warn("[TerraClassicFCDExplorer] modifyTransactionsResponse error: Could not get latest block"),null}return e.map(e=>{const n=this.getTxCoins(t,e),s=this.getTickerFromDenom(n.denom);if(!s)return[];const i=this.getTxAssetId(s);if(!i)return[];try{return{ticker:s,name:this.wallet.name,walletid:i,txType:this.getTxType(e),txid:e.txhash,direction:this.getTxDirection(t,e),otherSideAddress:this.getTxOtherSideAddress(t,e),amount:this.wallet.toCurrencyUnit(n.amount),datetime:new Date(e.timestamp),memo:e.tx.value.memo,alias:this.wallet.alias,fee:this.getTxFee(e),feeTicker:this.wallet.ticker,confirmations:r?r-e.height:1}}catch(t){return a.default.error({error:t,instance:this.wallet}),console.warn("[TerraClassicFCDExplorer] modifyTransactionsResponse error: Could not parse tx:",e),null}}).filter(e=>e)}}t.default=TerraClassicFCDExplorer},3919:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(1392),s=n(r(20));class TerraClassicLCDExplorer extends s.default{constructor({wallet:e,config:t}){var r,n;super(...arguments),this.lcdClient=new a.LCDClient({chainID:(null===(r=t.options)||void 0===r?void 0:r.chainID)||"columbus-5",URL:t.baseUrl||"https://terra-classic-lcd.publicnode.com",isClassic:!0}),this.cacheTime=Number(null===(n=t.options)||void 0===n?void 0:n.cacheTime)||3e4,this.cache={}}getAllowedTickers(){return["LUNA","LUNC"]}getLcdWallet(e){return this.lcdClient.wallet(e)}isCached(e){var t;return(null===(t=this.cache[e])||void 0===t?void 0:t.time)&&(new Date).getTime()-this.cache[e].time.getTime()<this.cacheTime}putCache(e,t){this.cache[e]={value:t,time:new Date}}getCache(e){return this.cache[e].value}async getBalance(e,t,r=this.wallet.denom){var n;const a="getBalance";this.isCached(a)||this.putCache(a,this.lcdClient.bank.balance(e));return(null===(n=(await this.getCache(a))[0].get(r))||void 0===n?void 0:n.amount.toString())||"0"}async getTokenBalanceByContractAddress({address:e,contractAddress:t}){return(await this.lcdClient.wasm.contractQuery(t,{balance:{address:e}})).balance||"0"}async sendTransaction(e){return this.lcdClient.tx.broadcastSync(e)}async getUserDenomList(e){try{await this.getBalance(e);const t=this.getCache("getBalance");return Object.keys(t._coins).map(e=>({symbol:this.wallet.getTickerFromDenom(e),name:"Terra "+this.wallet.getTickerFromDenom(e),decimals:this.wallet.decimal,denom:e}))}catch(e){return[]}}async estimateFee(e,t){return this.lcdClient.tx.estimateFee(e,t)}async calculateTax(e){return this.lcdClient.utils.calculateTax(e)}getAccountInfo(e){return this.lcdClient.auth.accountInfo(e)}async getValidators(e){return this.lcdClient.staking.bondedValidators(e)}async getStakingInfo(e){return{validators:await this.getValidators(e)}}async getStakedDelegations(e){const t="getStakedDelegations";this.isCached(t)||this.putCache(t,this.lcdClient.staking.delegations(e));const[r]=await this.getCache(t);return r}async getRewardsBalance(e){const t="getRewardsBalance";return this.isCached(t)||this.putCache(t,this.lcdClient.distribution.rewards(e)),this.getCache(t)}async getUnbondingDelegations(e){const t="getUnbondingDelegations";this.isCached(t)||this.putCache(t,this.lcdClient.staking.unbondingDelegations(e));const[r]=await this.getCache(t);return r}}t.default=TerraClassicLCDExplorer},3920:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(466)),s=n(r(53)),i=n(r(67)),o=n(r(20)),c=n(r(55));class TerraMantleExplorer extends o.default{getAllowedTickers(){return["LUNA","LUNC"]}async getUserTokenList(e,t=!1){const r=Object.values(await this.getTokenList(t)),n=r.map(({token:t})=>`${t}: WasmContractsContractAddressStore(ContractAddress: "${t}", QueryMsg : ${JSON.stringify(`{"balance": { "address" : "${e}" } }`)}) {\n Result\n }\n`),i=await Promise.all(s.default.chunk(n,40).map(async e=>this.request("/","POST",{operationName:null,variables:{},query:`{\n ${e.join()}}\n`})));return r.map(e=>i.map(e=>e.data).filter(Boolean).some(t=>{try{var r;const{balance:n}=JSON.parse(null===(r=t[e.token])||void 0===r?void 0:r.Result);return new a.default(n).isGreaterThan(0)}catch(e){return!1}})?e:null).filter(Boolean)}async getTokenList(e=!1){const t=await this.request("https://assets.terra.money/cw20/tokens.json","GET");return e?t.classic:this.wallet.isTestnet()?t.testnet:t.mainnet}async getBannedTokensList(){let e;try{e=await i.default.get("luna-tokens-banned",!0)}catch(e){c.default.error({instance:this,error:e})}return Array.isArray(e)?e:[]}}t.default=TerraMantleExplorer},3921:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(20)),s=n(r(74));class ThetaExplorer extends a.default{constructor(...e){super(...e),this.defaultTxLimit=20}getAllowedTickers(){return["THETA","TFUEL"]}async getTransactions(e){try{return await super.getTransactions(e)}catch(e){var t,r,n;if("error_not_found"===(null==e||null===(t=e.errorData)||void 0===t||null===(r=t.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.type))return[];throw e}}getTransactionsUrl(e){return"accountTx/"+e}getTransactionsParams(e,t,r=this.defaultTxLimit,n=0){return{pageNumber:n+1,limitNumber:r}}async modifyTransactionsResponse(e,t){const r=e.body;if(!Array.isArray(r))return[];const n=await this.wallet.getProvider("node").getLatestBlockNumber();return r.flatMap(e=>this.getTransactionsModifiedResponse(e,t,n))}getTransactionsModifiedResponse(e,t,r){var n,a,i,o;const c=t.toLowerCase(),l=(null===(n=e.data.outputs)||void 0===n?void 0:n.find(e=>e.address===c))||(null===(a=e.data.outputs)||void 0===a?void 0:a[0]),u=(null===(i=e.data.inputs)||void 0===i?void 0:i.find(e=>e.address===c))||(null===(o=e.data.inputs)||void 0===o?void 0:o[0]);if(null==l||!l.coins||!u||![l,u].some(e=>(null==e?void 0:e.address)===c))return[];const d=this.wallet.getTokens();return Object.entries(l.coins).reduce((t,[n,a])=>{const i=this.wallet.getProvider("node").getTickerFromProvider(n),o=d[i]||this.wallet;if(new this.wallet.BN(a).lte(new this.wallet.BN(0)))return t;const h=l.address===c;return[...t,new s.default({walletid:o.id,name:o.name,ticker:i,txid:this.getTxHash(e),direction:h,otherSideAddress:(h?u:l).address,amount:o.toCurrencyUnit(a),datetime:this.getTxDateTime(e),memo:this.getTxMemo(e),nonce:u.sequence,alias:o.alias,fee:this.getTxFee(e),feeTicker:this.getTxFeeTicker(e),confirmations:this.getTxConfirmations(e,r)})]},[])}getTxHash(e){return e.hash}getTxConfirmations(e,t=0){return"pending"!==e.status?new this.wallet.BN(t).sub(new this.wallet.BN(e.block_height)).toString():"0"}getTxDateTime(e){return new Date(1e3*Number(e.timestamp))}getTxFee(e){return this.wallet.toCurrencyUnit(Object.values(e.data.fee).find(e=>new this.wallet.BN(e).gt(new this.wallet.BN(0))))}getTxFeeTicker(e){const{fee:t}=e.data,r=Object.keys(t).find(e=>new this.wallet.BN(t[e]).gt(new this.wallet.BN(0)));return this.wallet.getProvider("node").getTickerFromProvider(r)}}t.default=ThetaExplorer},3922:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(2361),s=n(r(20)),i=n(r(55));const o=/(theta|tfuel)wei/i;class ThetaJSExplorer extends s.default{getAllowedTickers(){return["THETA","TFUEL"]}constructor(...e){super(...e),this.initProvider()}initProvider({chainId:e,baseUrl:t}=this.config){try{this.provider=new a.providers.HttpProvider(e||a.networks.Mainnet.chainId,t||a.networks.Mainnet.rpcUrl)}catch(r){i.default.error({instance:this,error:r}),setTimeout(()=>this.initProvider({chainId:e,baseUrl:t}),1e4)}}async getLatestBlockNumber(){return this.provider.getBlockNumber()}async getAccount(e){try{const t=await this.provider.getAccount(e);return{...t,coins:Object.entries(t.coins).reduce((e,[t,r])=>({...e,[this.getTickerFromProvider(t)]:r}),{}),emptyAddress:!1}}catch(e){return-32e3===e.code||i.default.error({instance:this,error:e}),{sequence:0,coins:{},emptyAddress:!0}}}async sendTransaction(e){return{txid:(await this.provider.sendTransaction(e)).hash}}getTickerFromProvider(e){var t;return((null===(t=e.match(o))||void 0===t?void 0:t[1])||e).toUpperCase()}}t.default=ThetaJSExplorer},3983:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(2363)),s=n(r(20));const i="9c9b08b334f8f5f107253898671c04cebbeb8900c723e31ccd7930b66a82b104";class TonwebExplorer extends s.default{constructor({wallet:e,config:t}){var r;super(...arguments),this.provider=new a.default.HttpProvider((null===(r=this.config)||void 0===r?void 0:r.baseUrl)||"https://toncenter.com/api/v2/jsonRPC",{apiKey:i})}getAllowedTickers(){return["TON"]}async getBalance(e){return this.provider.getBalance(e)}async sendTransaction(e){return this.provider.send("sendBocReturnHash",{boc:e})}modifyTransactionsResponse(e,t){return e.reduce((e,r)=>{try{return e.push(this.getTransactionModifiedResponse(r,t)),e}catch(t){return console.error(t),e}},[])}getTransactionsUrl(){var e;return((null===(e=this.config)||void 0===e?void 0:e.indexApiUrl)||"https://toncenter.com/api/index")+"/getTransactionsByAddress"}getTransactionsParams(e,t=0,r=this.defaultTxLimit){return{address:e,limit:r,offset:t}}getTransactionsOptions(){return{headers:{"X-API-Key":i}}}getTxDataMsg(e){return e.out_msgs[0]||e.in_msg}getTxDirection(e,t){const r=this.getTxDataMsg(t);return!r||new a.default.Address(r.destination).toString(!0,!0,!0)===e}getTxFee(e){return this.wallet.toCurrencyUnit(e.fee)}getTxConfirmations(){return 1}getTxDateTime(e){return new Date(1e3*e.utime)}getTxHash(e){return e.in_msg.hash}getTxOtherSideAddress(e,t){const r=this.getTxDirection(e,t),n=this.getTxDataMsg(t);return r?n.source:n.destination}getTxValue(e,t){return this.wallet.toCurrencyUnit(String(this.getTxDataMsg(t).value))}getTxFeeTicker(){return this.wallet.ticker}getTxMemo(e){return this.getTxDataMsg(e).comment}}t.default=TonwebExplorer},959:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.COSMOS_MSG_TO_TYPE=void 0;t.default={TRANSACTION:"Transfer",TRANSFER:"Transfer",TRANSFERNFT:"Transfer Nft",MINTNFT:"Mint Nft",STAKE:"Stake",DELEGATE:"Stake",UNSTAKE:"Unstake",UNDELEGATE:"Unstake",UNBONDING:"Unstake",RESTAKE:"Restake",REDELEGATE:"Restake",WITHDRAW:"Withdraw",WITHDRAWAL:"Withdraw",CLAIM:"Reward",REWARD:"Reward",VOTE:"Vote",FREEZE:"Freeze",BUY:"Buy",EXCHANGE:"Exchange"};t.COSMOS_MSG_TO_TYPE={MsgWithdrawDelegatorReward:"reward",MsgDelegate:"stake",MsgUndelegate:"unstake",MsgSend:"transfer"}}}]);