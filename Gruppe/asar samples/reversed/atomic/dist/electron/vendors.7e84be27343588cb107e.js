/*! For license information please see vendors.7e84be27343588cb107e.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{11834:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(5648),i=n(7965),r=n(7203);function s(t){return new a.a((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(i.a)(n):Object(r.a)()).subscribe(e)}))}},11835:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(5597),i=n(5609);function r(){return function(t){return t.lift(new s)}}var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new o(t))},t}(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.a(e,t),e.prototype._next=function(t){},e}(i.a)},11841:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n(5597),i=n(5648),r=n(5609),s=n(5808),o=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),u=function(t){function e(e,n){var a=t.call(this)||this;return a.subject=e,a.subscriber=n,a.closed=!1,a}return a.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(s.a),c=n(6502),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return a.a(e,t),e}(r.a),p=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return a.a(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new o;if(!this.isStopped)for(var e=this.observers,n=e.length,a=e.slice(),i=0;i<n;i++)a[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new o;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,a=e.slice(),i=0;i<n;i++)a[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new o;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),a=0;a<e;a++)n[a].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new o;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new o;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new d(t,e)},e}(i.a),d=function(t){function e(e,n){var a=t.call(this)||this;return a.destination=e,a.source=n,a}return a.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(p);function y(){return function(t){return t.lift(new h(t))}}var h=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var a=new f(t,n),i=e.subscribe(a);return a.closed||(a.connection=n.connect()),i},t}(),f=function(t){function e(e,n){var a=t.call(this,e)||this;return a.connectable=n,a}return a.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,a=t._connection;this.connection=null,!a||n&&a!==n||a.unsubscribe()}}else this.connection=null},e}(r.a),b=function(t){function e(e,n){var a=t.call(this)||this;return a.source=e,a.subjectFactory=n,a._refCount=0,a._isComplete=!1,a}return a.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new v(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t},e.prototype.refCount=function(){return y()(this)},e}(i.a),m=function(){var t=b.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),v=function(t){function e(e,n){var a=t.call(this,e)||this;return a.connectable=n,a}return a.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(l);r.a;var w=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,a=this.subjectFactory(),i=n(a).subscribe(t);return i.add(e.subscribe(a)),i},t}();function T(){return new p}function g(){return function(t){return y()((e=T,function(t){var a;if(a="function"==typeof e?e:function(){return e},"function"==typeof n)return t.lift(new w(a,n));var i=Object.create(t,m);return i.source=t,i.subjectFactory=a,i})(t));var e,n}}},11842:function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var a=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),i=n(5597),r=n(5609);function s(t,e){return function(n){return n.lift(new o(t,e))}}var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.thisArg))},t}(),u=function(t){function e(e,n,a){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=a,i.count=0,i}return i.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(r.a),c=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),l=n(7203);function p(t){return function(e){return 0===t?Object(l.a)():e.lift(new d(t))}}var d=function(){function t(t){if(this.total=t,this.total<0)throw new c}return t.prototype.call=function(t,e){return e.subscribe(new y(t,this.total))},t}(),y=function(t){function e(e,n){var a=t.call(this,e)||this;return a.total=n,a.count=0,a}return i.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(r.a);function h(t){return void 0===t&&(t=null),function(e){return e.lift(new f(t))}}var f=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new b(t,this.defaultValue))},t}(),b=function(t){function e(e,n){var a=t.call(this,e)||this;return a.defaultValue=n,a.isEmpty=!0,a}return i.a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(r.a);function m(t){return void 0===t&&(t=T),function(e){return e.lift(new v(t))}}var v=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new w(t,this.errorFactory))},t}(),w=function(t){function e(e,n){var a=t.call(this,e)||this;return a.errorFactory=n,a.hasValue=!1,a}return i.a(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(r.a);function T(){return new a}var g=n(6504);function _(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?s((function(e,n){return t(e,n,i)})):g.a,p(1),n?h(e):m((function(){return new a})))}}},11843:function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var a=n(5648);function i(t){return t&&"function"==typeof t.schedule}var r=n(5597),s=n(9156),o=n(7965),u=n(5609),c=n(7966),l=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return r.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(u.a),p=(u.a,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(u.a));u.a;function d(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(a){return a.pipe(d((function(n,a){return Object(o.a)(t(n,a)).pipe(Object(s.a)((function(t,i){return e(n,t,a,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new y(t,n))})}var y=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))},t}(),h=function(t){function e(e,n,a){void 0===a&&(a=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=a,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new l(this),n=this.destination;n.add(e);var i=function(t,e){if(!e.closed){if(t instanceof a.a)return t.subscribe(e);var n;try{n=Object(c.a)(t)(e)}catch(t){e.error(t)}return n}}(t,e);i!==e&&n.add(i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(p),f=n(6504);function b(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),d(f.a,t)}var m=n(7200),v=n(7202);function w(t,e){return e?Object(v.a)(t,e):new a.a(Object(m.a)(t))}function T(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,s=t[t.length-1];return i(s)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof s&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof a.a?t[0]:b(n)(w(t,r))}},11845:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(5597),i=n(5609);function r(){}var s=n(6503);function o(t,e,n){return function(a){return a.lift(new u(t,e,n))}}var u=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))},t}(),c=function(t){function e(e,n,a,i){var o=t.call(this,e)||this;return o._tapNext=r,o._tapError=r,o._tapComplete=r,o._tapError=a||r,o._tapComplete=i||r,Object(s.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||r,o._tapError=n.error||r,o._tapComplete=n.complete||r),o}return a.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(i.a)},5387:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(9090),r=n(5471),s=a(n(461)),o=n(29),u=n(26),c=a(n(464)),l=n(928);class BNBCoin extends((0,l.StakingMixin)((0,l.HasProviders)((0,l.HasTokensMixin)(s.default)))){constructor({alias:t,notify:e,feeData:n,explorers:a,txWebUrl:r,socket:s}){super({alias:t,notify:e,name:"BNB Coin",ticker:"BNB",decimal:8,derivation:void 0,unspendableBalance:"0",explorers:a,txWebUrl:r,socket:s,feeData:n}),this.fee=n.fee,this.freezeFee=n.freezeFee||"500000",this.reserveForStake=n.reserveForStake||"500000",this.transactions=[],this.coreLibraryLoaded=!1,this.coreLibrary=new i.BncClient("https://dex-atlantic.binance.org/"),this.coreLibrary.chooseNetwork("mainnet"),this.tokens={},this.fields.paymentId=!0}async loadWallet(t,e){return this.privateKey=i.crypto.getPrivateKeyFromMnemonic(e),this.address=i.crypto.getAddressFromPrivateKey(this.privateKey,this.coreLibrary.addressPrefix),this.loadCoreLibrary(),this}loadCoreLibrary(){this.coreLibrary.initChain().then(()=>{console.warn("BNB core init went OK"),this.coreLibrary.setPrivateKey(this.privateKey),this.coreLibraryLoaded=!0}).catch(t=>{console.error("BNB coreLibrary load FAILED.\n          It would be attemp to re-initialize during each\n          sendTransaction call. Error thrown:",t)})}async getTransaction(t){const e=this.transactions.filter(e=>e.txid===t);return e.length>0?e[0]:{}}getPublicKey(){return i.crypto.getPublicKeyFromPrivateKey(this.privateKey)}getAddress(){if(!this.address){if(!this.privateKey)throw new Error("BNB: Could not load address from core library because the privateKey is not set");this.address=i.crypto.getAddressFromPrivateKey(this.privateKey)}return this.address}async validateAddress(t){return i.crypto.checkAddress(t,"bnb")}async createTransaction({address:t,amount:e,memo:n,asset:a="BNB"}){return{address:t,amount:e,memo:n,asset:a}}createDelegationTransaction({account:t,toValidator:e,amount:n,symbol:a="BNB",sideChainId:i="bsc"}){return{delegateAddress:t,validatorAddress:e,amount:n,symbol:a,sideChainId:i}}createUnDelegationTransaction({account:t,toValidator:e,amount:n,symbol:a="BNB",sideChainId:i="bsc"}){return{delegateAddress:t,validatorAddress:e,amount:n,symbol:a,sideChainId:i}}createReDelegationTransaction({account:t,fromValidator:e,toValidator:n,amount:a,symbol:i="BNB",sideChainId:r="bsc"}){return{delegateAddress:t,validatorSrcAddress:e,validatorDstAddress:n,amount:a,symbol:i,sideChainId:r}}async sendDelegationTransaction(t){this.coreLibraryLoaded||await this.loadCoreLibrary();const{status:e,result:n}=await this.coreLibrary.stake.bscDelegate(t);if(200!==e)throw new Error(`${this.ticker}: sendDelegationTransaction error: ${JSON.stringify(n)}`);const a=n[0];if(!a.ok)throw new Error(`BNB: asset (${this.ticker}) : sendDelegationTransaction error:\n        coreLib.transfer is not ok, got: ${JSON.stringify(n)}`);return{txid:a.hash}}async sendUnDelegationTransaction(t){this.coreLibraryLoaded||await this.loadCoreLibrary();const{status:e,result:n}=await this.coreLibrary.stake.bscUndelegate(t);if(200!==e)throw new Error(`${this.ticker}: sendUnDelegationTransaction error: ${JSON.stringify(n)}`);const a=n[0];if(!a.ok)throw new Error(`BNB: asset (${this.ticker}) : sendUnDelegationTransaction error:\n        coreLib.transfer is not ok, got: ${JSON.stringify(n)}`);return{txid:a.hash}}async sendReDelegationTransaction(t){return this.coreLibraryLoaded||await this.loadCoreLibrary(),this.coreLibrary.stake.bscReDelegate(t)}async createTokenTransaction(t){return t}async signOrder(t){return i.crypto.generateSignature(this.toHex(JSON.stringify(t)),this.privateKey).toString("hex")}toHex(t){let e="";for(let n=0;n<t.length;n+=1){e+=t.charCodeAt(n).toString(16)}return e}async getFee(){return new this.BN(this.fee)}async getFreezeFee(){return new this.BN(this.freezeFee)}async getInfo(){return await this.getBalance(),await this.getStakingInfo(),{balance:this.balance,balances:this.balances,transactions:[]}}async getBalance(){const t=await this.getProvider("balance").getBalance(this.address);if(!t)return this.balance;for(const e of Object.values(this.tokens)){const n=t.find(t=>t.asset===e.ticker),a=n?new this.BN(e.toMinimalUnit(n.free)).add(new this.BN(e.toMinimalUnit(n.frozen))).add(new this.BN(e.toMinimalUnit(n.locked))):"0";e.balance=a.toString(),e.balances.frozen=n?String(n.frozen):"0",e.balances.locked=n?String(n.locked):"0",e.balances.available=n?String(n.free):e.divisibleBalance}const e=t.find(t=>t.asset===this.ticker);return e?(this.balance=this.toMinimalUnit(e.free),this.balance):(this.balance="0",this.balance)}async sendTransaction({address:t,amount:e,memo:n,asset:a="BNB"}){const i=this.address,r=this.toCurrencyUnit(e);this.coreLibraryLoaded||(await this.coreLibrary.initChain(),this.coreLibrary.setPrivateKey(this.privateKey),this.coreLibraryLoaded=!0);const{result:s,status:o}=await this.coreLibrary.transfer(i,t,r,a,n);if(200!==o)throw new Error(`${this.ticker}: sendTransaction error: ${JSON.stringify(s)}`);const u=s[0];if(!u.ok)throw new Error(`BNB: asset (${a}) : sendTransaction error:\n        coreLib.transfer is not ok, got: ${JSON.stringify(s)}`);return{txid:u.hash}}async sendMultiTransaction(t){this.coreLibraryLoaded||await this.loadCoreLibrary();const{result:e,status:n}=await this.coreLibrary.BncClient.multiSend(this.address,t);if(200!==n)throw new Error(`${this.ticker}: sendTransaction error: ${JSON.stringify(e)}`);const a=e[0];if(!a.ok)throw new Error("BNB: sendTransaction error:\n        coreLib.transfer is not ok, got: "+JSON.stringify(e));return{txid:a.hash}}async placeOrder(t,e,n=1,a=this.address,i="AWC-986_BNB",r=null,s=3){await this.coreLibrary.initChain();return await this.coreLibrary.placeOrder(a,i,n,e,t,r,s).catch(t=>{throw new o.WalletError({type:u.SEND_TRANSACTION_TYPE,error:new Error("place Order failed: "+t.message),instance:this})})}async getPlaceOrderTx(t){await this.coreLibrary.initChain();return await this.coreLibrary.getTx(t).catch(t=>{throw new o.WalletError({type:"GetTx",error:new Error("get tx failed: "+t.message),instance:this})})}setPrivateKey(t){super.setPrivateKey(t),this.coreLibrary.setPrivateKey(t)}createToken(t){return new r.BNBToken({parent:this,...t})}async getTokenList(t=[]){return this.getProvider("node").getAtomicTokenList()}async getUserTokenList(){const t=await this.coreLibrary.getBalance(this.address);if(!t)return[];const e=t.map(t=>t.symbol).filter(t=>t.toLowerCase()!==this.ticker.toLowerCase());return this.getProvider("node").getTokenList(e)}getExcludedTokenList(){return["BNB"]}async getTransactions({address:t=this.address}={}){const{transactions:e=[]}=await this.getProvider("history").getTransactions({address:t});return e}getTokenObject(t,e){return{contract:t.owner,name:t.name,ticker:t.symbol,decimal:8,parentTicker:"BNB",uniqueField:t.symbol,confirmed:t.confirmed}}async freezeTokenBalance(t,e){await this.coreLibrary.initChain();const n=await this.coreLibrary.tokens.freeze(this.address,t,String(e));if(n.result&&n.result.length>0)return n.result[0].hash;if(200!==n.status)throw new o.WalletError({type:"Freeze amount",error:new Error(`Freeze amount for ${t} is failed: ${n.error}`),instance:this});return n}async unfreezeTokenBalance(t,e){await this.coreLibrary.initChain();const n=await this.coreLibrary.tokens.unfreeze(this.address,t,String(e));if(n.result&&n.result.length>0)return n.result[0].hash;if(200!==n.status)throw new o.WalletError({type:"Freeze amount",error:new Error(`Unfreeze amount for ${t} is failed: ${n.error}`),instance:this});return n}async connectSocket(){this.getProvider("socket").connectSocket(this.address)}async updateBalances(t){const e=Object.values(this.tokens);t.forEach(t=>{const n=t.a;if("BNB"===n)return void(this.balance=this.toMinimalUnit(t.f));const a=e.find(t=>t.ticker===n);if(!a)return void console.warn(n+" is not found in the BNB token list. Balance update skipped.");const i=t.f,r=t.l,s=t.r,o=new this.BN(a.toMinimalUnit(i)).add(new this.BN(a.toMinimalUnit(s))).add(new this.BN(a.toMinimalUnit(r)));a.balance=o.toString(),a.balances.frozen=s,a.balances.locked=r,a.balances.available=i})}async availableBalance(t){const e=this.balance;if(!e)return null;const n=t&&new this.BN(t)||await this.getFee(),a=new this.BN(e).sub(n).sub(new this.BN(this.unspendableBalance)).sub(new this.BN(this.reserveForStake));return new this.BN(a).lt(new this.BN(0))?"0":this.toCurrencyUnit(a)}calculateTotal({balance:t,staked:e,unstaking:n}){return new c.default(t.toBN().add(e.toBN()).add(n.toBN()).toString(),this)}async calculateAvailableForStake(){return new c.default(this.toMinimalUnit(await this.availableBalance()),this)}get instance(){return{id:this.id,ticker:this.ticker,name:this.name,alias:this.alias,assetName:this.assetName,decimal:this.decimal,parent:this.id,BN:this.BN,tokens:()=>this.tokens,toCurrencyUnit:t=>this.toCurrencyUnit(t),toMinimalUnit:t=>this.toMinimalUnit(t),updateBalances:(...t)=>this.updateBalances(...t),feeCoefficient:this.coefficient,feeDefault:this.feeData&&this.feeData.fee}}}var p=BNBCoin;e.default=p},5471:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BNBToken",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"BSCToken",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"ETHToken",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"FLRToken",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"FTMToken",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"LUNCToken",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"MATICToken",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"OPToken",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"StakableMaticETHToken",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"THETAToken",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"TRXToken",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"VETToken",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"ZILToken",{enumerable:!0,get:function(){return l.default}});var i=a(n(5511)),r=a(n(5512)),s=a(n(5513)),o=a(n(5514)),u=a(n(5515)),c=a(n(5516)),l=a(n(5517)),p=a(n(5518)),d=a(n(5505)),y=a(n(5519)),h=a(n(5520)),f=a(n(5521)),b=a(n(5523))},5505:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(545));class LUNCToken extends i.default{constructor(t){var e;super(t),this.fields.paymentId=!0,this.stabilityFee=(null===(e=this.config)||void 0===e?void 0:e.stabilityFee)||.012}async createTransaction({address:t,amount:e,userGasPrice:n,gasLimit:a,multiplier:i,feeLimit:r=1e7,memo:s}){return{address:t,amount:e,contract:this.contract,transfer:!0,ticker:this.ticker,userGasPrice:n,gasLimit:a,multiplier:i,feeLimit:r,denom:this.denom,memo:s}}async availableBalance(){if(this.divisibleBalance){const t=await this.getStabilityFee(this.indivisibleBalance),e=this.indivisibleBalance.sub(new this.BN(t));return e.gt(0)?this.toCurrencyUnit(e.toString()):"0"}return"0"}getStabilityFee(t){return(Number(t)*this.stabilityFee+1).toFixed(0)}}var r=LUNCToken;e.default=r},5511:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(67)),r=a(n(545));class ETHToken extends r.default{constructor(...t){super(...t),this.gasLimit="150000",this.coefficient=1}async createTransaction({address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i=this.gasLimit,multiplier:r=this.multiplier,nonce:s}){return{address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i,contract:this.contract,multiplier:r,nonce:s}}getFeeSettings(){return i.default.get("eth-gas-price")}}var s=ETHToken;e.default=s},5512:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(67)),r=a(n(545)),s=n(29),o=n(26);class FLRToken extends r.default{constructor(...t){super(...t),this.gasLimit="150000",this.coefficient=1}async getInfo(){return{balance:String(this.balance),transactions:this.transactions}}async getFee({amount:t=0,isSendAll:e,gasPrice:n,gasLimit:a}){const i=Number(n.toString())*Number(this.coefficient),r=a||this.gasLimit;return new this.BN(r).mul(new this.BN(i))}getFeeSettings(){return i.default.get("eth-gas-price")}async createTransaction({address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i=this.gasLimit,multiplier:r=this.multiplier,nonce:s}){return{address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i,contract:this.contract,multiplier:r,nonce:s}}async sendTransaction(t){return new Promise((e,n)=>{this.web3.eth.sendSignedTransaction(t).on("transactionHash",t=>{e({txid:t})}).catch(t=>{const e=this.parent.coreLibrary.currentProvider.host,a=new s.ExplorerRequestError({type:o.SEND_TRANSACTION_TYPE,error:t,url:e,instance:this});n(a)})})}}var u=FLRToken;e.default=u},5513:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(545)),r=n(29),s=n(26);class BSCToken extends i.default{constructor(...t){super(...t),this.gasLimit="150000",this.coefficient=1}async getInfo(){return{balance:String(this.balance),transactions:this.transactions}}async getFee({amount:t=0,isSendAll:e,gasPrice:n,gasLimit:a}){const i=Number(n.toString())*Number(this.coefficient),r=a||this.gasLimit;return new this.BN(r).mul(new this.BN(i))}async createTransaction({address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i=this.gasLimit,multiplier:r=this.multiplier,nonce:s}){return{address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i,contract:this.contract,multiplier:r,nonce:s}}async sendTransaction(t){return new Promise((e,n)=>{this.web3.eth.sendSignedTransaction(t).on("transactionHash",t=>{e({txid:t})}).catch(t=>{const e=this.coreLibrary.currentProvider.host,a=new r.ExplorerRequestError({type:s.SEND_TRANSACTION_TYPE,error:t,url:e,instance:this});n(a)})})}}var o=BSCToken;e.default=o},5514:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(545));class TRXToken extends i.default{async createTransaction({address:t,amount:e,userFee:n}){return{address:t,amount:e,contract:this.contract,transfer:!0,feeLimit:null!=n?n:2e7}}getUserTicker(){return-1!==this.ticker.indexOf("-")&&this.ticker.split("-")[1]||this.ticker}}var r=TRXToken;e.default=r},5515:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(545));class BNBToken extends i.default{constructor(t){super(t),this.fields.paymentId=!0,this.balances={}}async availableBalance(){return this.balances&&this.balances.available?this.balances.available:this.divisibleBalance?String(this.divisibleBalance):"0"}async getInfo(){return await this.getBalance(),{balance:String(this.balance),transactions:this.transactions}}async createTransaction({address:t,amount:e,memo:n}){return{address:t,amount:e,memo:n,asset:this.ticker}}async getBalance(){return this.balance}async getTransactions(){return this.transactions}getUserTicker(){return this.ticker.split("-")[0]}}var r=BNBToken;e.default=r},5516:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(545));class VETToken extends i.default{constructor(...t){super(...t),this.fee="60"}get feeTicker(){return"VTHO"}async getInfo(){return{balance:String(this.balance),transactions:this.transactions}}async getFee(){return new this.BN(this.toMinimalUnit(this.fee))}async createTransaction({address:t,amount:e}){const n=Number(this.toCurrencyUnit(await this.getFee())),a=`0xa9059cbb${this.addLeadingZero(t.substring(2),64)}${this.addLeadingZero(new this.BN(e).toString(16),64)}`;return{contract:this.contract,amount:"0",dataToSend:a,fee:n}}async isAvailableForFee(){const t=await this.getFee();return this.indivisibleBalance.gte(t)}async availableBalance(){const t=await this.getFee(),e=new this.BN(this.balance).sub(t);return e.lt(new this.BN(0))?"0":this.toCurrencyUnit(e)}addLeadingZero(t,e){return String(t).padStart(e,"0")}}var r=VETToken;e.default=r},5517:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(545));class ZILToken extends i.default{async createTransaction({address:t,amount:e}){return{address:t,amount:e,contract:this.contract}}}var r=ZILToken;e.default=r},5518:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(35)),r=a(n(545)),s=n(29),o=n(26);class MATICToken extends r.default{constructor(...t){super(...t),this.gasLimit="150000",this.coefficient=1,this.BN=i.default}async getInfo(){return{balance:String(this.balance),transactions:this.transactions}}async getFee({gasPrice:t,gasLimit:e}){const n=new this.BN(t.toString()).mul(new this.BN(this.coefficient)),a=e||this.gasLimit;return new this.BN(a).mul(new this.BN(n))}async createTransaction({address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i=this.gasLimit,multiplier:r=this.multiplier,nonce:s}){return{address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i,contract:this.contract,multiplier:r,nonce:s}}async sendTransaction(t){return new Promise((e,n)=>{this.web3.eth.sendSignedTransaction(t).on("transactionHash",t=>{e({txid:t})}).catch(t=>{const e=this.coreLibrary.currentProvider.host;n(new s.ExplorerRequestError({type:o.SEND_TRANSACTION_TYPE,error:t,url:e,instance:this}))})})}}var u=MATICToken;e.default=u},5519:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(35)),r=a(n(545));class THETAToken extends r.default{constructor(t){super(t),this.id=this.ticker}async createTransaction({address:t,amount:e,userFee:n}){return{address:t,amount:e,contract:this.contract,ticker:this.ticker,userFee:n||await this.getFee()}}getFeeTicker(){return this.config.feeTicker}async availableBalance(t){if(!this.balance)return"0";const e=new i.default(this.balance).sub(new i.default(t));return e.gte(new i.default(0))?this.toCurrencyUnit(e):"0"}async isAvailableForSend(t,e){const n=await this.availableBalance(this.toMinimalUnit(e));return new i.default(this.toMinimalUnit(t)).lte(new i.default(this.toMinimalUnit(n)))}async getFee(){const t=this.config.defaultFee;if(!t)throw new Error(this.ticker+" provide defaultFee in config");return new this.BN(t)}}e.default=THETAToken},5520:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(321),r=a(n(67)),s=a(n(545)),o=n(29),u=n(26);class FTMToken extends s.default{constructor(...t){super(...t),this.gasLimit="150000",this.coefficient=1}async getInfo(){return{balance:String(this.balance),transactions:this.transactions}}async getFee({amount:t=0,isSendAll:e,gasPrice:n,gasLimit:a}){const i=Number(n.toString())*Number(this.coefficient),r=a||this.gasLimit;return new this.BN(r).mul(new this.BN(i))}getFeeSettings(){return r.default.get(i.ConfigKey.FantomGasPrice)}async createTransaction({address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i=this.gasLimit,multiplier:r=this.multiplier,nonce:s}){return{address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i,contract:this.contract,multiplier:r,nonce:s}}async sendTransaction(t){return new Promise((e,n)=>{this.web3.eth.sendSignedTransaction(t).on("transactionHash",t=>{e({txid:t})}).catch(t=>{const e=this.parent.coreLibrary.currentProvider.host,a=new o.ExplorerRequestError({type:u.SEND_TRANSACTION_TYPE,error:t,url:e,instance:this});n(a)})})}}var c=FTMToken;e.default=c},5521:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(928),r=a(n(464)),s=a(n(2335)),o=a(n(5522)),u=a(n(2334)),c=n(5471);class StakableMaticETHToken extends((0,i.Web3Mixin)((0,i.StakingMixin)(c.ETHToken))){constructor({config:t,...e}){var n,a,i,r,s,o,u;super({config:t,...e}),this.stakingContract=null!==(n=t.stakingContract)&&void 0!==n?n:"0x5E3EF299FDDF15EAA0432E6E66473ACE8C13D908",this.stakingGasLimit=null!==(a=t.stakingGasLimit)&&void 0!==a?a:3e5,this.unstakingGasLimit=null!==(i=t.unstakingGasLimit)&&void 0!==i?i:3e5,this.restakeRewardsGasLimit=null!==(r=t.restakeRewardsGasLimit)&&void 0!==r?r:3e5,this.claimRewardsGasLimit=null!==(s=t.claimRewardsGasLimit)&&void 0!==s?s:17e4,this.withdrawGasLimit=null!==(o=t.withdrawGasLimit)&&void 0!==o?o:3e5,this.approvalGasLimit=null!==(u=t.approvalGasLimit)&&void 0!==u?u:5e4}async getInfo(){return await super.getInfo(),await this.getStakingInfo(),{balance:this.balance,balances:this.balances}}calculateTotal({balance:t,staked:e,unstaking:n,rewards:a}){const i=t.toBN().add(e.toBN()).add(a.toBN()).add(n.toBN()).toString();return new r.default(i,this)}async calculateAvailableForStake({balance:t,availableVotes:e}){return e.toBN().gte(t.toBN())?new r.default(t.toMinimal(),this):new r.default("0",this)}accumulateValidatorsValues(t,e){return Object.values(t).reduce((t,{[""+e]:n})=>new r.default(t.toBN().add(n.toBN()),this),new r.default("0",this))}calculateStaked(t){return this.accumulateValidatorsValues(t,"staked")}calculateUnstaking(t){return this.accumulateValidatorsValues(t,"unstaking")}calculateRewards(t){return this.accumulateValidatorsValues(t,"rewards")}calculatePendingWithdrawals(t){return this.accumulateValidatorsValues(t,"pendingWithdrawals")}calculateAvailableWithdrawals(t){return this.accumulateValidatorsValues(t,"availableWithdrawals")}async fetchStakingInfo(){const t=Object.fromEntries(await Promise.all(this.predefinedValidators.map(async({address:t})=>{const e=await this.makeRawCall(o.default,this.stakingContract,"currentEpoch"),n=await this.makeRawCall(s.default,t,"unbondNonces",[this.address]),{shares:a,withdrawEpoch:i}=await this.makeRawCall(s.default,t,"unbonds_new",[this.address,n]),u=Number(e)>Number(i)+82,c=new r.default(u?"0":a,this),l=new r.default(u?a:"0",this),p=new r.default(c.toBN().add(l.toBN()).toString(),this);return[t,{staked:new r.default(await this.makeRawCall(s.default,t,"balanceOf",[this.address]),this),rewards:new r.default(await this.makeRawCall(s.default,t,"getLiquidRewards",[this.address]),this),pendingWithdrawals:c,availableWithdrawals:l,unstaking:p}]}))),e=this.calculateStaked(t),n=this.calculateUnstaking(t),a=this.calculateRewards(t),i=this.calculatePendingWithdrawals(t),c=this.calculateAvailableWithdrawals(t),l=new r.default(await this.makeRawCall(u.default,this.contract,"allowance",[this.address,this.stakingContract]),this);return{balance:new r.default(this.balance,this),staked:e,unstaking:n,availableVotes:l,pendingWithdrawals:i,availableWithdrawals:c,rewards:a,validators:t}}makeApproval({address:t,amount:e}){return this.createSmartContractCall({smartContractAddress:t,standard:!0,action:"approve",args:[t,e]})}increaseAllowance({address:t,amount:e}){return this.createSmartContractCall({smartContractAddress:t,standard:!0,action:"increaseAllowance",args:[t,e]})}createApproveTransaction({nonce:t,userGasPrice:e,gasLimit:n=this.approvalGasLimit,multiplier:a}={}){const i=this.makeApproval({address:this.stakingContract,amount:"115792089237316195423570985008687907853269984665640564039457584007913129639935"});return this.createRawTransactions({address:this.contract,amount:"0",paymentData:i,nonce:t,userGasPrice:e,gasLimit:n,multiplier:a})}createDelegationTransaction({amount:t,validator:e,nonce:n,userGasPrice:a,gasLimit:i=this.stakingGasLimit,multiplier:r}){const o=new this.coreLibrary.eth.Contract(s.default,e).methods.buyVoucher(t,t).encodeABI();return this.createRawTransactions({address:e,paymentData:o,amount:"0",nonce:n,userGasPrice:a,gasLimit:i,multiplier:r})}createUnstakeTransaction({amount:t,validator:e,nonce:n,userGasPrice:a,gasLimit:i=this.unstakingGasLimit,multiplier:r}){const o=new this.coreLibrary.eth.Contract(s.default,e).methods.sellVoucher_new(t,t).encodeABI();return this.createRawTransactions({address:e,paymentData:o,amount:"0",nonce:n,userGasPrice:a,gasLimit:i,multiplier:r})}async createWithdrawalTransaction({validator:t,nonce:e,userGasPrice:n,gasLimit:a=this.withdrawGasLimit,multiplier:i}){const r=new this.coreLibrary.eth.Contract(s.default,t),o=await this.makeRawCall(s.default,t,"unbondNonces",[this.address]),u=r.methods.unstakeClaimTokens_new(o).encodeABI();return this.createRawTransactions({address:t,paymentData:u,amount:"0",nonce:e,userGasPrice:n,gasLimit:a,multiplier:i})}createClaimRewardsTransaction({validator:t,nonce:e,userGasPrice:n,gasLimit:a=this.claimRewardsGasLimit,multiplier:i}){const r=new this.coreLibrary.eth.Contract(s.default,t).methods.withdrawRewards().encodeABI();return this.createRawTransactions({address:t,paymentData:r,amount:"0",nonce:e,userGasPrice:n,gasLimit:a,multiplier:i})}createRestakeRewardsTransaction({validator:t,nonce:e,userGasPrice:n,gasLimit:a=this.restakeRewardsGasLimit,multiplier:i}){const r=new this.coreLibrary.eth.Contract(s.default,t).methods.restake().encodeABI();return this.createRawTransactions({address:t,paymentData:r,amount:"0",nonce:e,userGasPrice:n,gasLimit:a,multiplier:i})}getPredefineValidatorsConfigIdentifier(){return"matic_eth"}}e.default=StakableMaticETHToken},5522:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousRootChain",type:"address"},{indexed:!0,internalType:"address",name:"newRootChain",type:"address"}],name:"RootChainChanged",type:"event"},{constant:!0,inputs:[],name:"CHECKPOINT_REWARD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"NFTContract",outputs:[{internalType:"contract StakingNFT",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"NFTCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"WITHDRAWAL_DELAY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"accountStateRoot",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"auctionPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"newRootChain",type:"address"}],name:"changeRootChain",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"checkPointBlockInterval",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"blockInterval",type:"uint256"},{internalType:"bytes32",name:"voteHash",type:"bytes32"},{internalType:"bytes32",name:"stateRoot",type:"bytes32"},{internalType:"address",name:"proposer",type:"address"},{internalType:"uint256[3][]",name:"sigs",type:"uint256[3][]"}],name:"checkSignatures",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"checkpointRewardDelta",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"accumFeeAmount",type:"uint256"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"bytes",name:"proof",type:"bytes"}],name:"claimFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"uint256",name:"heimdallFee",type:"uint256"}],name:"confirmAuctionBid",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"currentEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"currentValidatorSetSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"currentValidatorSetTotalStake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"decreaseValidatorDelegatedAmount",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"delegatedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"delegator",type:"address"}],name:"delegationDeposit",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"delegationEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"delegatorsReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"auctionUser",type:"address"},{internalType:"uint256",name:"heimdallFee",type:"uint256"},{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"uint256",name:"auctionAmount",type:"uint256"},{internalType:"bool",name:"acceptDelegation",type:"bool"},{internalType:"bytes",name:"signerPubkey",type:"bytes"}],name:"dethroneAndStake",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"destination",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"drain",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"address",name:"tokenAddr",type:"address"},{internalType:"address payable",name:"destination",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"drainValidatorShares",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"dynasty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"epoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"eventsHub",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"extensionCode",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"forceUnstake",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getRegistry",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"getValidatorContract",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"getValidatorId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"governance",outputs:[{internalType:"contract IGovernance",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_registry",type:"address"},{internalType:"address",name:"_rootchain",type:"address"},{internalType:"address",name:"_token",type:"address"},{internalType:"address",name:"_NFTContract",type:"address"},{internalType:"address",name:"_stakingLogger",type:"address"},{internalType:"address",name:"_validatorShareFactory",type:"address"},{internalType:"address",name:"_governance",type:"address"},{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_extensionCode",type:"address"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address[]",name:"_signers",type:"address[]"}],name:"insertSigners",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"isValidator",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"latestSignerUpdateEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"lock",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"locked",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"logger",outputs:[{internalType:"contract StakingInfo",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxRewardedCheckpoints",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"fromValidatorId",type:"uint256"},{internalType:"uint256",name:"toValidatorId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"migrateDelegation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorIdFrom",type:"uint256"},{internalType:"uint256",name:"validatorIdTo",type:"uint256"}],name:"migrateValidatorsData",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"minDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minHeimdallFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"prevBlockInterval",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"proposerBonus",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"registry",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_NFTContract",type:"address"},{internalType:"address",name:"_stakingLogger",type:"address"},{internalType:"address",name:"_validatorShareFactory",type:"address"},{internalType:"address",name:"_extensionCode",type:"address"}],name:"reinitialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"replacementCoolDown",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bool",name:"stakeRewards",type:"bool"}],name:"restake",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"rewardDecreasePerCheckpoint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"rewardPerStake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"rootChain",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_currentEpoch",type:"uint256"}],name:"setCurrentEpoch",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bool",name:"enabled",type:"bool"}],name:"setDelegationEnabled",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_token",type:"address"}],name:"setStakingToken",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"signerToValidator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"signerUpdateLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"signers",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_slashingInfoList",type:"bytes"}],name:"slash",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"heimdallFee",type:"uint256"},{internalType:"bool",name:"acceptDelegation",type:"bool"},{internalType:"bytes",name:"signerPubkey",type:"bytes"}],name:"stakeFor",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bool",name:"_acceptDelegation",type:"bool"},{internalType:"bytes",name:"_signerPubkey",type:"bytes"}],name:"startAuction",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"forNCheckpoints",type:"uint256"}],name:"stopAuctions",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"heimdallFee",type:"uint256"}],name:"topUpForFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalHeimdallFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalRewardsLiquidated",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalStaked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"totalStakedFor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"delegator",type:"address"}],name:"transferFunds",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"unjail",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"unlock",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"unstake",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"unstakeClaim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_blocks",type:"uint256"}],name:"updateCheckPointBlockInterval",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"newReward",type:"uint256"}],name:"updateCheckpointReward",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_rewardDecreasePerCheckpoint",type:"uint256"},{internalType:"uint256",name:"_maxRewardedCheckpoints",type:"uint256"},{internalType:"uint256",name:"_checkpointRewardDelta",type:"uint256"}],name:"updateCheckpointRewardParams",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"uint256",name:"newCommissionRate",type:"uint256"}],name:"updateCommissionRate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"newDynasty",type:"uint256"}],name:"updateDynastyValue",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_minDeposit",type:"uint256"},{internalType:"uint256",name:"_minHeimdallFee",type:"uint256"}],name:"updateMinAmounts",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"newProposerBonus",type:"uint256"}],name:"updateProposerBonus",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"bytes",name:"signerPubkey",type:"bytes"}],name:"updateSigner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_limit",type:"uint256"}],name:"updateSignerUpdateLimit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"address",name:"newContractAddress",type:"address"}],name:"updateValidatorContractAddress",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bool",name:"delegation",type:"bool"}],name:"updateValidatorDelegation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"},{internalType:"int256",name:"amount",type:"int256"}],name:"updateValidatorState",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"newThreshold",type:"uint256"}],name:"updateValidatorThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"userFeeExit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"validatorAuction",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"startEpoch",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"bool",name:"acceptDelegation",type:"bool"},{internalType:"bytes",name:"signerPubkey",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"validatorReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"validatorShareFactory",outputs:[{internalType:"contract ValidatorShareFactory",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"validatorStake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"validatorState",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"stakerCount",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"validatorStateChanges",outputs:[{internalType:"int256",name:"amount",type:"int256"},{internalType:"int256",name:"stakerCount",type:"int256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"validatorThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"validators",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"uint256",name:"activationEpoch",type:"uint256"},{internalType:"uint256",name:"deactivationEpoch",type:"uint256"},{internalType:"uint256",name:"jailTime",type:"uint256"},{internalType:"address",name:"signer",type:"address"},{internalType:"address",name:"contractAddress",type:"address"},{internalType:"enum StakeManagerStorage.Status",name:"status",type:"uint8"},{internalType:"uint256",name:"commissionRate",type:"uint256"},{internalType:"uint256",name:"lastCommissionUpdate",type:"uint256"},{internalType:"uint256",name:"delegatorsReward",type:"uint256"},{internalType:"uint256",name:"delegatedAmount",type:"uint256"},{internalType:"uint256",name:"initialRewardPerStake",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"withdrawDelegatorsReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"validatorId",type:"uint256"}],name:"withdrawRewards",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"withdrawalDelay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]},5523:function(t,e,n){"use strict";var a=n(2);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(545)),r=n(29),s=n(26);class OPToken extends i.default{constructor(...t){super(...t),this.gasLimit="150000",this.coefficient=1}async getInfo(){return{balance:String(this.balance),transactions:this.transactions}}async createTransaction({address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i=this.gasLimit,multiplier:r=this.multiplier,nonce:s}){return{address:t,amount:e,custom:n,userGasPrice:a,gasLimit:i,contract:this.contract,multiplier:r,nonce:s}}async sendTransaction(t){return new Promise((e,n)=>{this.web3.eth.sendSignedTransaction(t).on("transactionHash",t=>{e({txid:t})}).catch(t=>{const e=this.parent.coreLibrary.currentProvider.host,a=new r.ExplorerRequestError({type:s.SEND_TRANSACTION_TYPE,error:t,url:e,instance:this});n(a)})})}getFeeTicker(){return this.deprecatedParent}}var o=OPToken;e.default=o},5597:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},5609:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n(5597),i=n(6503),r=n(7197),s=n(5808),o=n(6502),u=n(6500),c=n(6501),l=function(t){function e(n,a,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=r.a;break;case 1:if(!n){s.destination=r.a;break}if("object"==typeof n){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new p(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new p(s,n,a,i)}return s}return a.a(e,t),e.prototype[o.a]=function(){return this},e.create=function(t,n,a){var i=new e(t,n,a);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.a),p=function(t){function e(e,n,a,s){var o,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(i.a)(n)?o=n:n&&(o=n.next,a=n.error,s=n.complete,n!==r.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=o,u._error=a,u._complete=s,u}return a.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(c.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(c.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},5648:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n(5609);var i=n(6502),r=n(7197);var s=n(6026),o=n(6504);function u(t){return 0===t.length?o.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var c=n(6500),l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var s=this.operator,o=function(t,e,n){if(t){if(t instanceof a.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new a.a(t,e,n):new a.a(r.a)}(t,e,n);if(s?o.add(s.call(o,this.source)):o.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),c.a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,i=e.destination,r=e.isStopped;if(n||r)return!1;t=i&&i instanceof a.a?i:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=p(e))((function(e,a){var i;i=n.subscribe((function(e){try{t(e)}catch(t){a(t),i&&i.unsubscribe()}}),a,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[s.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:u(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=p(t))((function(t,n){var a;e.subscribe((function(t){return a=t}),(function(t){return n(t)}),(function(){return t(a)}))}))},t.create=function(e){return new t(e)},t}();function p(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},5808:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}(),i=n(7198),r=n(6503),s=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),o=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,o=this._ctorUnsubscribe,c=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var p=0;p<n.length;++p){n[p].remove(this)}if(Object(r.a)(c)){o&&(this._unsubscribe=void 0);try{c.call(this)}catch(t){e=t instanceof s?u(t.errors):[t]}}if(a(l)){p=-1;for(var d=l.length;++p<d;){var y=l[p];if(Object(i.a)(y))try{y.unsubscribe()}catch(t){e=e||[],t instanceof s?e=e.concat(u(t.errors)):e.push(t)}}}if(e)throw new s(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var a=n;(n=new t)._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function u(t){return t.reduce((function(t,e){return t.concat(e instanceof s?e.errors:e)}),[])}},6026:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},6170:function(t,e,n){"use strict";function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));var i=a()},6496:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return TransportU2F}));var a=n(6497),i=n(427),r=n(86),s=n(71);const o=t=>t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");function u(t,e,n,i){const s=function(t,e){const n=Buffer.alloc(t.length);for(let a=0;a<t.length;a++)n[a]=t[a]^e[a%e.length];return n}(t,n),u=Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),c={version:"U2F_V2",keyHandle:o(s.toString("base64")),challenge:o(u.toString("base64")),appId:location.origin};return Object(r.log)("apdu","=> "+t.toString("hex")),Object(a.sign)(c,e/1e3).then(t=>{const{signatureData:e}=t;if("string"==typeof e){const t=Buffer.from((n=e).replace(/-/g,"+").replace(/_/g,"/")+"==".substring(0,3*n.length%4),"base64");let a;return a=i?t.slice(5):t,Object(r.log)("apdu","<= "+a.toString("hex")),a}throw t;var n})}let c=[];class TransportU2F extends i.a{static async open(t,e=5e3){return new TransportU2F}constructor(){super(),this.scrambleKey=void 0,this.unwrap=!0,c.push(this)}async exchange(t){try{return await u(t,this.exchangeTimeout,this.scrambleKey,this.unwrap)}catch(t){throw"object"==typeof t.metaData?(5===t.metaData.code&&(c.forEach(t=>t.emit("disconnect")),c=[]),function(t,e,n){const a=new s.TransportError(e,n);return a.originalError=t,a}(t,"Failed to sign with Ledger device: U2F "+t.metaData.type,"U2F_"+t.metaData.code)):t}}setScrambleKey(t){this.scrambleKey=Buffer.from(t,"ascii")}setUnwrap(t){this.unwrap=t}close(){return Promise.resolve()}}TransportU2F.isSupported=a.isSupported,TransportU2F.list=()=>Object(a.isSupported)().then(t=>t?[null]:[]),TransportU2F.listen=t=>{let e=!1;return Object(a.isSupported)().then(n=>{e||(n?(t.next({type:"add",descriptor:null}),t.complete()):t.error(new s.TransportError("U2F browser support is needed for Ledger. Please use Chrome, Opera or Firefox with a U2F extension. Also make sure you're on an HTTPS connection","U2FNotSupported")))}),{unsubscribe:()=>{e=!0}}}},6500:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;a=t},get useDeprecatedSynchronousErrorHandling(){return a}}},6501:function(t,e,n){"use strict";function a(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return a}))},6502:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},6503:function(t,e,n){"use strict";function a(t){return"function"==typeof t}n.d(e,"a",(function(){return a}))},6504:function(t,e,n){"use strict";function a(t){return t}n.d(e,"a",(function(){return a}))},7197:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(6500),i=n(6501),r={closed:!0,next:function(t){},error:function(t){if(a.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},7198:function(t,e,n){"use strict";function a(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return a}))},7199:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},7200:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=function(t){return function(e){for(var n=0,a=t.length;n<a&&!e.closed;n++)e.next(t[n]);e.complete()}}},7201:function(t,e,n){"use strict";function a(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return a}))},7202:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(5648),i=n(5808);function r(t,e){return new a.a((function(n){var a=new i.a,r=0;return a.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||a.add(this.schedule())):n.complete()}))),a}))}},7203:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(5648),i=new a.a((function(t){return t.complete()}));function r(t){return t?function(t){return new a.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},7965:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(5648),i=n(7966),r=n(5808),s=n(6026);var o=n(7202),u=n(6170);var c=n(7201),l=n(7199);function p(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new a.a((function(n){var a=new r.a;return a.add(e.schedule((function(){var i=t[s.a]();a.add(i.subscribe({next:function(t){a.add(e.schedule((function(){return n.next(t)})))},error:function(t){a.add(e.schedule((function(){return n.error(t)})))},complete:function(){a.add(e.schedule((function(){return n.complete()})))}}))}))),a}))}(t,e);if(Object(c.a)(t))return function(t,e){return new a.a((function(n){var a=new r.a;return a.add(e.schedule((function(){return t.then((function(t){a.add(e.schedule((function(){n.next(t),a.add(e.schedule((function(){return n.complete()})))})))}),(function(t){a.add(e.schedule((function(){return n.error(t)})))}))}))),a}))}(t,e);if(Object(l.a)(t))return Object(o.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new a.a((function(n){var a,i=new r.a;return i.add((function(){a&&"function"==typeof a.return&&a.return()})),i.add(e.schedule((function(){a=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=a.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function d(t,e){return e?p(t,e):t instanceof a.a?t:new a.a(Object(i.a)(t))}},7966:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n(7200),i=n(6501),r=n(6170),s=n(6026),o=n(7199),u=n(7201),c=n(7198),l=function(t){if(t&&"function"==typeof t[s.a])return l=t,function(t){var e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(o.a)(t))return Object(a.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[r.a])return e=t,function(t){for(var n=e[r.a]();;){var a=void 0;try{a=n.next()}catch(e){return t.error(e),t}if(a.done){t.complete();break}if(t.next(a.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,p=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+p+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},9156:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(5597),i=n(5609);function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new o(t,this.project,this.thisArg))},t}(),o=function(t){function e(e,n,a){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=a||i,i}return a.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)}}]);